{
  "request_id": "agent-gaode-integration-update-20260130",
  "timestamp": "2026-01-30T19:00:00Z",
  "priority": "MEDIUM",
  "objective": "Update agent documentation to correctly reference gaode-maps Python scripts instead of outdated progressive disclosure commands",

  "background": {
    "current_architecture": "Skills use Python scripts executed via Bash tool",
    "problem": "Some agents still reference outdated /gaode-maps skill invocation commands",
    "correct_approach": "Agents should reference SKILL.md and execute Python scripts directly"
  },

  "agents_with_outdated_references": {
    "meals.md": {
      "line": 146,
      "outdated": "Load poi-search tools: `/gaode-maps poi-search`",
      "should_be": "See `.claude/skills/gaode-maps/SKILL.md` for POI search usage"
    },
    "accommodation.md": {
      "line": 231,
      "outdated": "Load poi-search tools: `/gaode-maps poi-search`",
      "should_be": "See `.claude/skills/gaode-maps/SKILL.md` for POI search usage"
    },
    "attractions.md": {
      "lines": [204, 220],
      "outdated": "Load poi-search tools: `/gaode-maps poi-search` and references to tools/poi-search.md",
      "should_be": "See `.claude/skills/gaode-maps/SKILL.md` for POI search usage"
    },
    "shopping.md": {
      "lines": [160, 176],
      "outdated": "Load poi-search tools: `/gaode-maps poi-search` and references to tools/poi-search.md",
      "should_be": "See `.claude/skills/gaode-maps/SKILL.md` for POI search usage"
    },
    "entertainment.md": {
      "lines": [196, 212],
      "outdated": "Load poi-search tools: `/gaode-maps poi-search` and references to tools/poi-search.md",
      "should_be": "See `.claude/skills/gaode-maps/SKILL.md` for POI search usage"
    }
  },

  "correct_pattern": {
    "transportation.md": {
      "status": "âœ… CORRECT",
      "example": "See `.claude/skills/gaode-maps/SKILL.md` for usage",
      "note": "Already uses correct reference pattern"
    }
  },

  "required_changes": {
    "pattern_to_remove": [
      "Load poi-search tools: `/gaode-maps poi-search`",
      "Load routing tools: `/gaode-maps routing`",
      "References to `.claude/skills/gaode-maps/tools/*.md`"
    ],
    "pattern_to_add": [
      "See `.claude/skills/gaode-maps/SKILL.md` for POI search usage",
      "See `.claude/skills/gaode-maps/SKILL.md` for routing usage"
    ]
  },

  "scope": {
    "in_scope": [
      "Update 5 agent files with outdated references",
      "Replace progressive disclosure commands with SKILL.md references",
      "Ensure consistency across all agents"
    ],
    "out_of_scope": [
      "Changing skills: [gaode-maps] frontmatter declarations (already correct)",
      "Modifying SKILL.md (already correct)",
      "Changing Python scripts (already correct)"
    ]
  },

  "validation": {
    "after_fix_check": [
      "grep -r '/gaode-maps' .claude/agents/*.md should return 0 results",
      "grep -r 'tools/poi-search.md' .claude/agents/*.md should return 0 results",
      "All agents should reference SKILL.md for usage instructions"
    ]
  },

  "impact_analysis": {
    "architectural_consistency": "HIGH - ensures DRY principle compliance",
    "user_confusion": "MEDIUM - outdated references mislead about how to use gaode-maps",
    "functional_impact": "LOW - skills already work correctly, this is documentation cleanup"
  }
}
