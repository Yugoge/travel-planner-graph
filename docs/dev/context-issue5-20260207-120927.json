{
  "request_id": "dev-issue5-20260207-120927",
  "timestamp": "2026-02-07T12:09:27Z",
  "issue_number": 5,
  "priority": "P1",
  "requirement": {
    "original": "entertainment没有图片支持",
    "clarified": "Entertainment POI images are not fetched because entertainment.json has no name_chinese field, same root cause as Issue 3.",
    "what": "Enable entertainment image fetching by extracting Chinese names from parentheses",
    "why": "Entertainment venues (spas, massage, etc.) need photos for user decision-making",
    "where": [
      "scripts/fetch-images-batch.py line 330-341 (entertainment POI collection)",
      "data/china-feb-15-mar-7-2026-20260202-195429/entertainment.json (no name_chinese field)"
    ],
    "scope": {
      "included": [
        "Apply same Chinese name extraction fix as Issue 3",
        "Verify entertainment POIs collected and fetched"
      ],
      "excluded": [
        "Modifying entertainment.json structure",
        "Adding new entertainment types"
      ]
    },
    "success_criteria": [
      "Entertainment POI photos fetched successfully",
      "Entertainment items display with images in HTML",
      "Chinese names extracted for Gaode Maps search"
    ],
    "constraints": [
      "Same solution as Issue 3 (unified fix)",
      "No changes to entertainment agent output format"
    ]
  },
  "root_cause_analysis": {
    "symptom": "Entertainment venues have no images in generated HTML",
    "root_cause": "Same as Issue 3 - name_chinese field empty, Chinese name not extracted from parentheses",
    "root_cause_commit": "Same as Issue 3",
    "why_introduced": "Entertainment agent outputs bilingual names in single field",
    "why_problematic": "Gaode Maps searches with English fail for mainland China entertainment venues",
    "timeline": "Since initial entertainment support",
    "affected_files": [
      "scripts/fetch-images-batch.py",
      "data/china-feb-15-mar-7-2026-20260202-195429/entertainment.json"
    ]
  },
  "context": {
    "codebase_state": "Clean working directory",
    "file_contents": {
      "entertainment.json": {
        "day1_example": "name: '静·serene SPA 泰式按摩足疗 (Serene Thai SPA)', name_chinese: '' (empty)"
      }
    }
  },
  "development_approach": {
    "strategy": "Fix is identical to Issue 3 - entertainment collection already exists, just needs Chinese extraction",
    "files_to_modify": [
      "scripts/fetch-images-batch.py"
    ],
    "changes_needed": [
      "Same _extract_chinese_name() function from Issue 3",
      "Apply to entertainment POI collection (line 330-341)"
    ],
    "validation_approach": "Fetch entertainment POIs, verify images appear in HTML"
  },
  "standards_to_enforce": {
    "no_hardcoded_values": true,
    "use_source_venv": true,
    "meaningful_naming": true,
    "git_root_cause_reference": true
  }
}
