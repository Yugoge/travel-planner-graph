{
  "request_id": "clean-20260131-191742",
  "timestamp": "2026-01-31T19:17:42Z",
  "inspector": "prompt-inspector",
  "findings": [
    {
      "file": "/root/travel-planner/.claude/commands/plan.md",
      "severity": "critical",
      "total_lines": 608,
      "verbose_lines": 223,
      "verbosity_percentage": 36.7,
      "verbose_sections": [
        {
          "section": "Architecture Overview",
          "lines": 32,
          "start_line": 14,
          "reason": "Explanatory context that belongs in /dev.md, not execution documentation"
        },
        {
          "section": "Quality Standards",
          "lines": 71,
          "start_line": 560,
          "reason": "Design philosophy and validation rules - should be in development docs"
        },
        {
          "section": "File Structure",
          "lines": 23,
          "start_line": 536,
          "reason": "Redundant with actual file system, not needed for command execution"
        },
        {
          "section": "Notes",
          "lines": 10,
          "start_line": 598,
          "reason": "Philosophical reminders - violates 'rules not stories' principle"
        },
        {
          "section": "Verbose step explanations",
          "lines": 87,
          "start_line": 58,
          "reason": "Overly detailed explanations in Phase 1 and Phase 2 sections with tutorial-style walkthroughs instead of terse commands"
        }
      ],
      "recommendation": "Apply 'rules not stories' principle: Remove Architecture Overview (32 lines), Quality Standards (71 lines), File Structure (23 lines), Notes (10 lines). Reduce verbose step explanations by 50% (87 lines -> 43 lines). Target reduction: 180 lines (36.7% -> ~10%). Reference: convert.md cleanup (commit 2d21631) reduced 113 lines (-22%) by removing similar verbose sections."
    },
    {
      "file": "/root/travel-planner/.claude/commands/gaode-maps/tools/geocoding.md",
      "severity": "critical",
      "total_lines": 589,
      "verbose_lines": 289,
      "verbosity_percentage": 49.1,
      "verbose_sections": [
        {
          "section": "Best Practices",
          "lines": 150,
          "start_line": 200,
          "reason": "Extensive code examples and implementation patterns belong in developer guides, not tool reference"
        },
        {
          "section": "Common Workflows",
          "lines": 89,
          "start_line": 350,
          "reason": "Tutorial-style walkthroughs with detailed explanations - should be concise examples"
        },
        {
          "section": "Error Handling",
          "lines": 50,
          "start_line": 440,
          "reason": "Verbose error handling scenarios and retry logic explanations - not needed in tool reference"
        }
      ],
      "recommendation": "Apply 'rules not stories' principle: Remove or drastically reduce Best Practices (150 lines -> 30 lines max), Common Workflows (89 lines -> 20 lines), Error Handling (50 lines -> 10 lines). Tool reference should be concise parameter/return descriptions with 1-2 examples per tool. Target reduction: 230 lines (49.1% -> ~10%)."
    },
    {
      "file": "/root/travel-planner/.claude/commands/gaode-maps/tools/utilities.md",
      "severity": "critical",
      "total_lines": 585,
      "verbose_lines": 340,
      "verbosity_percentage": 58.1,
      "verbose_sections": [
        {
          "section": "Best Practices",
          "lines": 180,
          "start_line": 105,
          "reason": "Extensive JavaScript implementation examples with weather integration logic - belongs in developer docs"
        },
        {
          "section": "Integration Patterns",
          "lines": 100,
          "start_line": 285,
          "reason": "Detailed coding patterns and architectural guidance - not tool reference material"
        },
        {
          "section": "Advanced Usage",
          "lines": 60,
          "start_line": 385,
          "reason": "Complex scenario walkthroughs with verbose explanations"
        }
      ],
      "recommendation": "Apply 'rules not stories' principle: Utilities.md should be <150 lines total. Remove Best Practices code examples (180 lines), Integration Patterns (100 lines), Advanced Usage (60 lines). Keep only: tool parameter/return descriptions, 1-2 concise examples per tool. Target reduction: 340 lines (58.1% -> ~10%)."
    },
    {
      "file": "/root/travel-planner/.claude/skills/rednote/examples/content-extraction.md",
      "severity": "critical",
      "total_lines": 508,
      "verbose_lines": 400,
      "verbosity_percentage": 78.7,
      "verbose_sections": [
        {
          "section": "Sample Response",
          "lines": 300,
          "start_line": 32,
          "reason": "Extremely verbose mock API response with full travel itinerary - one example would suffice, not 300 lines of sample data"
        },
        {
          "section": "Extract Structured Itinerary",
          "lines": 100,
          "start_line": 84,
          "reason": "Redundant re-formatting of the same data shown above - unnecessary duplication"
        }
      ],
      "recommendation": "Apply 'rules not stories' principle: Example should demonstrate tool usage with CONCISE sample output. Reduce Sample Response (300 lines -> 30 lines with key fields), remove redundant Structured Itinerary section (100 lines). Target reduction: 370 lines (78.7% -> ~20% for an example file)."
    },
    {
      "file": "/root/travel-planner/.claude/skills/rednote/SKILL.md",
      "severity": "major",
      "total_lines": 480,
      "verbose_lines": 160,
      "verbosity_percentage": 33.3,
      "verbose_sections": [
        {
          "section": "When to Use This Skill",
          "lines": 20,
          "start_line": 22,
          "reason": "Verbose explanation of use cases - should be 3-5 bullet points"
        },
        {
          "section": "Tool Details (repeated patterns)",
          "lines": 90,
          "start_line": 50,
          "reason": "Each of 4 tools has verbose examples and explanations - should be terse parameter descriptions"
        },
        {
          "section": "Effective Search Keywords",
          "lines": 30,
          "start_line": 371,
          "reason": "Extensive keyword lists - belongs in examples, not SKILL.md overview"
        },
        {
          "section": "Data Quality Considerations",
          "lines": 20,
          "start_line": 399,
          "reason": "Philosophical discussion about strengths/limitations - not execution rules"
        }
      ],
      "recommendation": "Apply 'rules not stories' principle: Reduce When to Use (20 lines -> 5 lines), compress Tool Details (90 lines -> 40 lines with terse descriptions), move Effective Search Keywords to examples (remove 30 lines), remove Data Quality Considerations (20 lines). Target reduction: 100 lines (33.3% -> ~12%)."
    },
    {
      "file": "/root/travel-planner/.claude/commands/gaode-maps/tools/poi-search.md",
      "severity": "critical",
      "total_lines": 476,
      "verbose_lines": 250,
      "verbosity_percentage": 52.5,
      "verbose_sections": [
        {
          "section": "POI Category Codes Reference",
          "lines": 120,
          "start_line": 127,
          "reason": "Exhaustive category code listing - should be external reference link or appendix"
        },
        {
          "section": "Best Practices",
          "lines": 80,
          "start_line": 247,
          "reason": "Detailed implementation patterns and code examples - belongs in developer guides"
        },
        {
          "section": "Advanced Workflows",
          "lines": 50,
          "start_line": 327,
          "reason": "Tutorial-style walkthroughs with verbose explanations"
        }
      ],
      "recommendation": "Apply 'rules not stories' principle: Move POI Category Codes to separate reference file or link to official docs (remove 120 lines), reduce Best Practices to essential notes (80 lines -> 15 lines), remove Advanced Workflows (50 lines). Target reduction: 235 lines (52.5% -> ~10%)."
    },
    {
      "file": "/root/travel-planner/.claude/skills/gaode-maps/tools/utilities.md",
      "severity": "critical",
      "total_lines": 445,
      "verbose_lines": 240,
      "verbosity_percentage": 53.9,
      "verbose_sections": [
        {
          "section": "Best Practices",
          "lines": 140,
          "start_line": 105,
          "reason": "Duplicate verbose patterns from commands/gaode-maps/tools/utilities.md - code examples and integration patterns"
        },
        {
          "section": "Integration Examples",
          "lines": 100,
          "start_line": 245,
          "reason": "Detailed coding walkthroughs - not tool reference material"
        }
      ],
      "recommendation": "Apply 'rules not stories' principle: This file duplicates content from commands/gaode-maps/tools/utilities.md. Reduce Best Practices (140 lines -> 20 lines), remove Integration Examples (100 lines). Consider consolidating with commands version. Target reduction: 220 lines (53.9% -> ~10%)."
    },
    {
      "file": "/root/travel-planner/.claude/skills/gaode-maps/tools/poi-search.md",
      "severity": "critical",
      "total_lines": 433,
      "verbose_lines": 210,
      "verbosity_percentage": 48.5,
      "verbose_sections": [
        {
          "section": "POI Category Codes Reference",
          "lines": 100,
          "start_line": 128,
          "reason": "Duplicate exhaustive category listing - same issue as commands version"
        },
        {
          "section": "Best Practices",
          "lines": 70,
          "start_line": 228,
          "reason": "Verbose implementation guidance - belongs in developer docs"
        },
        {
          "section": "Common Patterns",
          "lines": 40,
          "start_line": 298,
          "reason": "Tutorial-style examples with detailed explanations"
        }
      ],
      "recommendation": "Apply 'rules not stories' principle: This file duplicates content from commands/gaode-maps/tools/poi-search.md. Remove POI Category Codes (100 lines), reduce Best Practices (70 lines -> 10 lines), remove Common Patterns (40 lines). Consider consolidating with commands version. Target reduction: 200 lines (48.5% -> ~10%)."
    },
    {
      "file": "/root/travel-planner/.claude/skills/gaode-maps/tools/geocoding.md",
      "severity": "critical",
      "total_lines": 475,
      "verbose_lines": 260,
      "verbosity_percentage": 54.7,
      "verbose_sections": [
        {
          "section": "Best Practices",
          "lines": 130,
          "start_line": 180,
          "reason": "Duplicate verbose patterns from commands version - implementation examples and patterns"
        },
        {
          "section": "Common Workflows",
          "lines": 80,
          "start_line": 310,
          "reason": "Tutorial-style walkthroughs duplicating commands version"
        },
        {
          "section": "Error Handling",
          "lines": 50,
          "start_line": 390,
          "reason": "Verbose error scenarios duplicating commands version"
        }
      ],
      "recommendation": "Apply 'rules not stories' principle: This file duplicates content from commands/gaode-maps/tools/geocoding.md. Remove Best Practices (130 lines), Common Workflows (80 lines), Error Handling (50 lines). Consider consolidating - only one version needed. Target reduction: 260 lines (54.7% -> ~10%)."
    },
    {
      "file": "/root/travel-planner/.claude/commands/gaode-maps/examples/inter-city-route.md",
      "severity": "major",
      "total_lines": 426,
      "verbose_lines": 150,
      "verbosity_percentage": 35.2,
      "verbose_sections": [
        {
          "section": "Step 2: Research Transit Options (verbose response)",
          "lines": 70,
          "start_line": 28,
          "reason": "Extremely verbose API response example with full JSON - should show only key fields"
        },
        {
          "section": "Step 4: Compare Options (table + verbose explanation)",
          "lines": 40,
          "start_line": 161,
          "reason": "Redundant comparison when data already shown above - table is sufficient"
        },
        {
          "section": "Step 5: Make Recommendation (verbose reasoning)",
          "lines": 40,
          "start_line": 170,
          "reason": "Over-explained recommendation with redundant pros/cons - should be concise"
        }
      ],
      "recommendation": "Apply 'rules not stories' principle: Example files can be longer than reference docs, but still reduce verbosity. Compress API responses (70 lines -> 20 lines showing key fields), reduce comparison verbosity (40 lines -> 15 lines), make recommendation concise (40 lines -> 15 lines). Target reduction: 90 lines (35.2% -> ~15% acceptable for examples)."
    },
    {
      "file": "/root/travel-planner/.claude/commands/gaode-maps/examples/script-execution.md",
      "severity": "critical",
      "total_lines": 415,
      "verbose_lines": 300,
      "verbosity_percentage": 72.3,
      "verbose_sections": [
        {
          "section": "Expected Output (repeated for each example)",
          "lines": 250,
          "start_line": 13,
          "reason": "Each example includes full verbose JSON output - only key fields needed"
        },
        {
          "section": "Redundant examples",
          "lines": 50,
          "start_line": 365,
          "reason": "Multiple similar examples showing same pattern - 1-2 would suffice"
        }
      ],
      "recommendation": "Apply 'rules not stories' principle: Script execution examples should show command + concise output. Reduce Expected Output verbosity (250 lines -> 50 lines with key fields only), remove redundant examples (50 lines). Target reduction: 250 lines (72.3% -> ~20% for example file)."
    },
    {
      "file": "/root/travel-planner/.claude/skills/gaode-maps/examples/inter-city-route.md",
      "severity": "minor",
      "total_lines": 269,
      "verbose_lines": 90,
      "verbosity_percentage": 33.5,
      "verbose_sections": [
        {
          "section": "Duplicate of commands version",
          "lines": 90,
          "start_line": 1,
          "reason": "This entire file is a duplicate of commands/gaode-maps/examples/inter-city-route.md with minor differences"
        }
      ],
      "recommendation": "Apply 'rules not stories' principle: This file duplicates commands/gaode-maps/examples/inter-city-route.md. Consider consolidating - only one version needed. If skills version is kept, apply same verbosity reduction as commands version. Target: eliminate duplication entirely or reduce to ~180 lines."
    },
    {
      "file": "/root/travel-planner/.claude/skills/airbnb/tools/details.md",
      "severity": "major",
      "total_lines": 368,
      "verbose_lines": 130,
      "verbosity_percentage": 35.3,
      "verbose_sections": [
        {
          "section": "Returns (exhaustive field listing)",
          "lines": 60,
          "start_line": 23,
          "reason": "Extremely detailed nested structure documentation - should be concise overview with key fields"
        },
        {
          "section": "Best Practices",
          "lines": 50,
          "start_line": 92,
          "reason": "Tutorial-style implementation guidance - belongs in examples, not tool reference"
        },
        {
          "section": "Example with verbose comments",
          "lines": 20,
          "start_line": 62,
          "reason": "Over-commented example code with redundant explanations"
        }
      ],
      "recommendation": "Apply 'rules not stories' principle: Reduce Returns documentation (60 lines -> 20 lines with key fields only), move Best Practices to examples (remove 50 lines), simplify example comments (20 lines -> 10 lines). Target reduction: 100 lines (35.3% -> ~12%)."
    },
    {
      "file": "/root/travel-planner/.claude/skills/gaode-maps/tools/routing.md",
      "severity": "major",
      "total_lines": 371,
      "verbose_lines": 150,
      "verbosity_percentage": 40.4,
      "verbose_sections": [
        {
          "section": "Best Practices",
          "lines": 80,
          "start_line": 200,
          "reason": "Detailed implementation patterns and code examples"
        },
        {
          "section": "Common Workflows",
          "lines": 50,
          "start_line": 280,
          "reason": "Tutorial-style walkthroughs"
        },
        {
          "section": "Strategy Explanations",
          "lines": 20,
          "start_line": 330,
          "reason": "Verbose explanations of routing strategy parameters"
        }
      ],
      "recommendation": "Apply 'rules not stories' principle: Reduce Best Practices (80 lines -> 15 lines), move Common Workflows to examples (remove 50 lines), make Strategy Explanations concise (20 lines -> 5 lines). Target reduction: 130 lines (40.4% -> ~12%)."
    }
  ],
  "summary": {
    "files_inspected": 51,
    "files_with_violations": 14,
    "critical": 9,
    "major": 4,
    "minor": 1,
    "total_verbose_lines": 3422,
    "total_lines_in_violations": 6816,
    "average_verbosity_percentage": 50.2,
    "estimated_reduction": "40-50% average per file with violations",
    "key_patterns_detected": [
      "Extensive Best Practices sections with code examples (belongs in developer guides)",
      "Verbose API response examples (should show key fields only)",
      "Tutorial-style walkthroughs instead of reference format",
      "Philosophical explanations and design rationale",
      "Duplicate content between commands/ and skills/ directories",
      "Exhaustive category/reference listings (should be external links)",
      "Quality Standards and Architecture Overview sections (belongs in /dev.md)"
    ],
    "consolidation_opportunities": [
      "commands/gaode-maps/tools/*.md vs skills/gaode-maps/tools/*.md (duplicate content)",
      "commands/gaode-maps/examples/inter-city-route.md vs skills/gaode-maps/examples/inter-city-route.md (duplicate files)"
    ]
  },
  "recommendations": {
    "immediate_actions": [
      "Remove Architecture Overview and Quality Standards from plan.md (103 lines)",
      "Consolidate duplicate tool documentation between commands/ and skills/ directories",
      "Extract POI Category Codes to external reference file or API docs link",
      "Remove verbose Best Practices sections from all tool documentation",
      "Compress example API responses to show only key fields"
    ],
    "principles_to_apply": [
      "Rules not stories: Command/tool docs should be execution reference, not tutorials",
      "Progressive disclosure: Move detailed examples to examples/ directory",
      "Single source of truth: Eliminate duplicate content between commands/ and skills/",
      "External references: Link to official API docs for exhaustive listings",
      "Concise examples: 1-2 examples per feature with key fields only"
    ],
    "target_metrics": {
      "critical_files_target_verbosity": "10-15%",
      "major_files_target_verbosity": "12-20%",
      "example_files_target_verbosity": "15-25%",
      "total_lines_reduction_potential": "2800-3000 lines (40-45%)"
    }
  }
}
