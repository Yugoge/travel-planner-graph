{
  "request_id": "dev-agent-doc-cleanup-iteration4-20260130",
  "timestamp": "2026-01-30T19:40:00Z",
  "priority": "CRITICAL",
  "objective": "Fix remaining OpenWeatherMap (capital W) references missed by case-sensitive grep",

  "requirement": {
    "original": "QA FAIL iteration 3 - Fix capital OpenWeatherMap references in section headers",
    "clarified": "Replace 3 OpenWeatherMap (capital W) references with proper weather skill name",
    "what": "Final case-sensitivity fix for skill references",
    "why": "Case-sensitive grep missed 'OpenWeatherMap' while searching for 'openweathermap'",
    "where": [
      ".claude/agents/budget.md (line 119: section header)",
      ".claude/agents/meals.md (line 165: section header)",
      ".claude/agents/timeline.md (line 122: section header)"
    ],
    "scope": {
      "included": [
        "Replace 'OpenWeatherMap' with 'weather skill' in section headers",
        "Use case-insensitive grep for final verification",
        "Ensure zero matches for all variants (openweathermap, OpenWeatherMap, etc.)"
      ],
      "excluded": [
        "Changing other content",
        "Modifying frontmatter (already correct)"
      ]
    },
    "success_criteria": [
      "Zero OpenWeatherMap references in budget.md",
      "Zero OpenWeatherMap references in meals.md",
      "Zero OpenWeatherMap references in timeline.md",
      "grep -ri 'openweathermap' .claude/agents/ returns 0 matches (case-insensitive)"
    ]
  },

  "qa_findings_iteration_3": {
    "status": "FAIL",
    "root_cause": "Case-sensitive grep missed capital 'OpenWeatherMap' in section headers",
    "issues": [
      {
        "id": "ISSUE-7",
        "severity": "critical",
        "file": ".claude/agents/budget.md",
        "line": 119,
        "text": "**Use OpenWeatherMap to identify weather-related budget items**:",
        "fix_required": "Replace 'OpenWeatherMap' with 'weather skill'"
      },
      {
        "id": "ISSUE-8",
        "severity": "critical",
        "file": ".claude/agents/meals.md",
        "line": 165,
        "text": "**Use OpenWeatherMap to select weather-appropriate dining venues**:",
        "fix_required": "Replace 'OpenWeatherMap' with 'weather skill'"
      },
      {
        "id": "ISSUE-9",
        "severity": "critical",
        "file": ".claude/agents/timeline.md",
        "line": 122,
        "text": "**Use OpenWeatherMap to optimize activity timing**:",
        "fix_required": "Replace 'OpenWeatherMap' with 'weather skill'"
      }
    ]
  },

  "previous_iterations_summary": {
    "iteration_1": "Fixed 4 files (accommodation, attractions, entertainment, shopping) - 25+ references",
    "iteration_2": "Found 2 more files missed (meals, timeline) - 6 references",
    "iteration_3": "Fixed meals, timeline, discovered budget - 7 references, all lowercase",
    "iteration_4": "Must fix capital OpenWeatherMap in section headers - 3 references"
  },

  "development_approach": {
    "step_1_read_files": "Read budget.md, meals.md, timeline.md to confirm exact text",
    "step_2_replacements": "Replace 'OpenWeatherMap' with 'weather skill' in all 3 section headers",
    "step_3_case_insensitive_grep": "Use grep -ri (case-insensitive) to verify zero matches",
    "step_4_verify_all_variants": "Check openweathermap, OpenWeatherMap, OPENWEATHERMAP, etc."
  },

  "replacement_pattern": {
    "old": "OpenWeatherMap",
    "new": "weather skill",
    "context": "Section headers describing workflow steps"
  },

  "deliverables": {
    "files_modified": [
      ".claude/agents/budget.md (line 119)",
      ".claude/agents/meals.md (line 165)",
      ".claude/agents/timeline.md (line 122)"
    ],
    "verification": "grep -ri 'openweathermap' .claude/agents/ â†’ 0 matches (case-insensitive)"
  }
}
