{
  "request_id": "dev-agent-doc-cleanup-iteration3-20260130",
  "timestamp": "2026-01-30T19:25:00Z",
  "priority": "CRITICAL",
  "objective": "Fix remaining openweathermap references in meals.md and timeline.md",

  "requirement": {
    "original": "QA FAIL iteration 2 - Fix remaining 2 agent files with openweathermap references",
    "clarified": "Replace 6 openweathermap references with weather in meals.md and timeline.md",
    "what": "Final agent documentation cleanup",
    "why": "QA found 6 remaining openweathermap references in 2 agent files",
    "where": [
      ".claude/agents/meals.md (lines 167, 187: 3 references)",
      ".claude/agents/timeline.md (lines 124, 152: 3 references)"
    ],
    "scope": {
      "included": [
        "Replace /openweathermap with /weather in skill invocations",
        "Replace .claude/skills/openweathermap/ with .claude/skills/weather/ in paths",
        "Replace .claude/commands/openweathermap/ with .claude/commands/weather/ if present",
        "Verify zero openweathermap references remain"
      ],
      "excluded": [
        "Modifying frontmatter (already correct)",
        "Changing other agents",
        "Script development"
      ]
    },
    "success_criteria": [
      "Zero openweathermap references in meals.md",
      "Zero openweathermap references in timeline.md",
      "All references updated to weather skill",
      "grep -r 'openweathermap' .claude/agents/ returns 0 matches"
    ]
  },

  "qa_findings_iteration_2": {
    "status": "FAIL",
    "issues_fixed_iteration_1": [
      "accommodation.md: 13 jinko-hotel references removed ✅",
      "attractions.md: 14 tripadvisor references removed ✅",
      "entertainment.md: 14 tripadvisor references removed ✅",
      "shopping.md: openweathermap → weather in frontmatter ✅"
    ],
    "remaining_issues": [
      {
        "id": "ISSUE-5",
        "severity": "critical",
        "file": ".claude/agents/meals.md",
        "lines": [167, 187],
        "references": 3,
        "examples": [
          "Line 167: `/openweathermap forecast`",
          "Line 187: `.claude/skills/openweathermap/tools/forecast.md`"
        ],
        "fix_required": "Replace all openweathermap with weather"
      },
      {
        "id": "ISSUE-6",
        "severity": "critical",
        "file": ".claude/agents/timeline.md",
        "lines": [124, 152],
        "references": 3,
        "examples": [
          "Line 124: `/openweathermap forecast`",
          "Line 152: `.claude/commands/openweathermap/tools/forecast.md`"
        ],
        "fix_required": "Replace all openweathermap with weather"
      }
    ]
  },

  "root_cause_analysis": {
    "what_happened": "Initial QA input only identified 4 files, missed meals.md and timeline.md",
    "why_dev_missed": "Dev only processed 4 files explicitly listed, didn't grep all agents",
    "how_to_prevent": "Always grep entire .claude/agents/ directory for deleted skill names"
  },

  "development_approach": {
    "step_1_read_files": "Read meals.md and timeline.md to see exact references",
    "step_2_meals_md": "Replace all openweathermap → weather (lines 167, 187, and any others)",
    "step_3_timeline_md": "Replace all openweathermap → weather (lines 124, 152, and any others)",
    "step_4_comprehensive_grep": "grep -r 'openweathermap' .claude/agents/ to verify zero matches",
    "step_5_verify_all_deleted_skills": "Also verify zero matches for jinko-hotel and tripadvisor"
  },

  "replacement_patterns": {
    "skill_invocation": {
      "old": "/openweathermap",
      "new": "/weather"
    },
    "skill_path_1": {
      "old": ".claude/skills/openweathermap/",
      "new": ".claude/skills/weather/"
    },
    "skill_path_2": {
      "old": ".claude/commands/openweathermap/",
      "new": ".claude/commands/weather/"
    }
  },

  "deliverables": {
    "files_modified": [
      ".claude/agents/meals.md (replace openweathermap references)",
      ".claude/agents/timeline.md (replace openweathermap references)"
    ],
    "verification": [
      "grep -r 'openweathermap' .claude/agents/ → 0 matches",
      "grep -r 'jinko-hotel' .claude/agents/ → 0 matches",
      "grep -r 'tripadvisor' .claude/agents/ → 0 matches"
    ]
  }
}
