{
  "request_id": "dev-mcp-verification-20260130",
  "timestamp": "2026-01-30T17:45:00Z",
  "priority": "HIGH",
  "objective": "Download and verify 6 MCP servers (tripadvisor, yelp, jinko, airbnb, amadeus, eventbrite), following Google Maps verification pattern",

  "requirement": {
    "original": "下一步下载tripadvisor、yelp、jinko、airbnb、amadeus、 eventbrite的mcp并验证协议是否准确，然后我搞到api之后进一步告诉你验证",
    "clarified": "Download actual npm packages for 6 MCP servers, inspect source code to verify tool names/parameters, create/fix Python scripts, test with API keys when provided",
    "what": "MCP protocol verification and skill development for 6 services",
    "why": "Prevent tool name errors like Google Maps BUG (search_places vs maps_search_places) and ensure 100% coverage",
    "where": [
      ".claude/skills/tripadvisor/",
      ".claude/skills/yelp/",
      ".claude/skills/jinko-hotel/",
      ".claude/skills/airbnb/",
      ".claude/skills/amadeus-flight/",
      ".claude/skills/eventbrite/ (CREATE NEW)"
    ],
    "scope": {
      "included": [
        "Download all 6 MCP packages from npm",
        "Inspect source code for actual tool definitions",
        "Verify tool names in existing scripts",
        "Fix tool name mismatches immediately",
        "Create missing scripts for uncovered tools",
        "Update SKILL.md for each service",
        "Generate verification reports",
        "Wait for API keys before testing"
      ],
      "excluded": [
        "API key acquisition (user provides)",
        "Other skills not in the 6 list",
        "Agent integration (separate task)",
        "Production deployment"
      ]
    },
    "success_criteria": [
      "All 6 MCP packages downloaded and inspected",
      "Tool names verified against source code (not documentation)",
      "100% tool coverage for each MCP (N/N tools)",
      "All tool names match actual MCP definitions",
      "Python scripts created/fixed for all tools",
      "SKILL.md updated with correct tool list",
      "Verification report generated for each MCP",
      "Ready for testing when API keys provided"
    ],
    "constraints": [
      "Must follow Google Maps/Gaode Maps verification pattern",
      "Download actual packages, not assume from docs",
      "No API testing without keys (phase 2)",
      "Use existing mcp_client.py pattern",
      "Environment variables for credentials"
    ]
  },

  "reference_pattern": {
    "google_maps_success": {
      "problem": "Claimed 3/3 tools, but had wrong names (search_places vs maps_search_places)",
      "solution": "Downloaded @modelcontextprotocol/server-google-maps, inspected dist/index.js",
      "discovery": "Found 7 actual tools, not 3",
      "fix": "Renamed all tools, created 4 missing scripts, updated SKILL.md",
      "result": "7/7 (100%) verified coverage, all tests passed"
    },
    "gaode_maps_success": {
      "problem": "BUG-002: All 12 tool names assumed without verification",
      "solution": "Created list_tools.py, queried MCP server",
      "discovery": "All 12 names wrong (poi_search_keyword vs maps_text_search)",
      "fix": "Systematic replacement across all scripts",
      "result": "12/12 (100%) coverage, 11/12 tests passed"
    },
    "lesson_learned": "NEVER assume tool names from documentation - ALWAYS verify with source code"
  },

  "mcps_to_verify": {
    "tripadvisor": {
      "package": "@tripadvisor/tripadvisor-mcp-server",
      "skill_exists": true,
      "scripts_exist": ["attractions.py", "tours.py", "mcp_client.py"],
      "status": "needs_verification",
      "current_tools_called": ["search_attractions", "search_tours"]
    },
    "yelp": {
      "package": "@yelp/yelp-mcp-server",
      "skill_exists": true,
      "scripts_exist": ["search.py", "details.py", "mcp_client.py"],
      "status": "needs_verification",
      "current_tools_called": ["search", "business_details"]
    },
    "jinko_hotel": {
      "package": "@jinko/hotel-booking-mcp-server",
      "skill_exists": true,
      "scripts_exist": ["search.py", "details.py", "booking.py", "mcp_client.py"],
      "status": "needs_verification",
      "current_tools_called": ["search_hotels", "get_details", "check_availability"]
    },
    "airbnb": {
      "package": "@openbnb/mcp-server-airbnb",
      "skill_exists": true,
      "scripts_exist": ["search.py", "details.py", "mcp_client.py"],
      "status": "needs_verification",
      "current_tools_called": ["search_listings", "get_listing_details"]
    },
    "amadeus_flight": {
      "package": "@amadeus/flight-search-mcp-server",
      "skill_exists": true,
      "scripts_exist": ["search.py", "details.py", "pricing.py", "mcp_client.py"],
      "status": "needs_verification",
      "current_tools_called": ["search_flights", "get_flight_details", "analyze_pricing"]
    },
    "eventbrite": {
      "package": "@mseep/eventbrite-mcp",
      "skill_exists": false,
      "scripts_exist": [],
      "status": "needs_creation",
      "current_tools_called": []
    }
  },

  "context": {
    "codebase_state": {
      "existing_skills": 5,
      "new_skills": 1,
      "total_to_verify": 6,
      "google_maps_verified": true,
      "gaode_maps_verified": true
    },
    "verification_approach": {
      "phase_1": "Download packages, inspect source",
      "phase_2": "Compare actual vs claimed tool names",
      "phase_3": "Fix mismatches, create missing scripts",
      "phase_4": "Update SKILL.md with verified tools",
      "phase_5": "Generate verification reports",
      "phase_6": "Test with API keys (when provided)"
    },
    "dependencies": {
      "runtime": "Python 3.x, npx, npm",
      "packages": "Each MCP server package from npm",
      "credentials": "API keys (phase 2)"
    }
  },

  "development_approach": {
    "strategy": "Parallel verification of 6 MCPs following Google Maps pattern",
    "steps": [
      "1. Download all 6 MCP packages (npm pack)",
      "2. Extract and inspect source code for tool definitions",
      "3. For each MCP: compare actual vs claimed tools",
      "4. Fix tool name mismatches in existing scripts",
      "5. Create missing scripts for uncovered tools",
      "6. Update SKILL.md with complete tool list",
      "7. Generate individual verification reports",
      "8. Generate master completion report",
      "9. Wait for API keys, then test all"
    ],
    "scripts_pattern": {
      "use_existing_mcp_client": true,
      "parameterized": true,
      "no_hardcoded_values": true,
      "env_vars_for_keys": true,
      "json_stderr_output": true
    },
    "validation_approach": {
      "before_api_keys": "Verify tool names against source code",
      "after_api_keys": "Run actual API calls, validate responses"
    }
  },

  "standards_to_enforce": {
    "no_hardcoded_values": true,
    "use_environment_variables": true,
    "skill_md_single_source": true,
    "python_scripts_via_bash": true,
    "100_percent_coverage": true,
    "tool_names_verified_from_source": true,
    "source_code_inspection_required": true,
    "no_assumptions_from_docs": true
  },

  "deliverables": {
    "per_mcp": [
      "Downloaded package tarball",
      "Source code inspection notes",
      "Tool coverage analysis (N/N)",
      "Fixed/created Python scripts",
      "Updated SKILL.md",
      "Verification report (docs/dev/mcp-NAME-verification-20260130.md)"
    ],
    "master_deliverables": [
      "Master verification summary",
      "All 6 MCPs ready for testing",
      "Completion report with next steps"
    ]
  }
}
