{
  "timestamp": "2026-02-12T12:59:28.008809",
  "validator": "shopping-agent",
  "mode": "read-only",
  "summary": {
    "total_plans": 3,
    "plans_pass": 2,
    "plans_pass_with_warnings": 0,
    "plans_fail": 1,
    "overall_verdict": "FAIL",
    "note": "One plan (china-exchange-bucket-list-2026) has empty shopping.json data. Two plans pass validation with all required fields present."
  },
  "plans": {
    "beijing-exchange-bucket-list-20260202-232405": {
      "name": "beijing-exchange-bucket-list-20260202-232405",
      "path": "/root/travel-planner/data/beijing-exchange-bucket-list-20260202-232405/shopping.json",
      "status": "PASS",
      "files_exist": {
        "shopping.json": true,
        "requirements-skeleton.json": true,
        "plan-skeleton.json": true
      },
      "schema_compliance": {
        "has_agent_field": true,
        "has_status_field": true,
        "has_data_field": true,
        "agent_correct": true,
        "status_correct": true,
        "days_array_valid": true,
        "verdict": "COMPLIANT"
      },
      "data_completeness": {
        "total_shopping_items": 20,
        "days_with_shopping": 12,
        "total_days": 13,
        "items_with_missing_fields": 0,
        "shopping_coverage": "92.3%"
      },
      "bilingual_annotations": {
        "checked": true,
        "name_base_count": 20,
        "name_local_count": 20,
        "location_base_count": 20,
        "location_local_count": 20,
        "all_fields_present": true
      },
      "required_fields_validation": {
        "name_base": "20/20",
        "name_local": "20/20",
        "location_base": "20/20",
        "location_local": "20/20",
        "cost": "20/20",
        "currency_local": "20/20",
        "type_base": "20/20",
        "time": "20/20",
        "optional": "20/20",
        "search_results": "20/20"
      },
      "time_format_validation": {
        "valid_formats": 20,
        "invalid_formats": 0,
        "sample_times": [
          "14:00 - 16:30",
          "10:00 - 12:00",
          "19:00 - 21:00"
        ]
      },
      "cost_validation": {
        "min_cost": 0,
        "max_cost": 200,
        "all_numeric": true,
        "average_cost": 72.5
      },
      "issues": [],
      "warnings": [
        "15 items use legacy 'name' field alongside 'name_base' (non-fatal, handled by validator)"
      ],
      "recommendations": [
        "Remove legacy 'name' fields from shopping items",
        "Verify all Chinese location names are searchable in Gaode Maps"
      ]
    },
    "china-exchange-bucket-list-2026": {
      "name": "china-exchange-bucket-list-2026",
      "path": "/root/travel-planner/data/china-exchange-bucket-list-2026/shopping.json",
      "status": "FAIL",
      "files_exist": {
        "shopping.json": true,
        "requirements-skeleton.json": true,
        "plan-skeleton.json": true
      },
      "schema_compliance": {
        "has_agent_field": true,
        "has_status_field": true,
        "has_data_field": true,
        "agent_correct": true,
        "status_correct": true,
        "days_array_valid": true,
        "verdict": "COMPLIANT_STRUCTURE_BUT_EMPTY"
      },
      "data_completeness": {
        "total_shopping_items": 0,
        "days_with_shopping": 0,
        "total_days": 0,
        "items_with_missing_fields": 0,
        "shopping_coverage": "0.0%"
      },
      "issues": [
        {
          "severity": "HIGH",
          "field": "data.days",
          "message": "Empty data.days array - no shopping recommendations generated",
          "context": "Trip period: 2026-03-09 to 2026-06-30 (bucket list template with no specific itinerary)"
        }
      ],
      "root_cause_analysis": {
        "trip_type": "bucket_list",
        "status": "template_plan",
        "note": "This plan is a bucket-list guide without specific daily itinerary. Shopping recommendations require committed daily itinerary."
      },
      "warnings": [
        "No shopping data generated - this is expected for bucket-list template plans"
      ],
      "recommendations": [
        "This is a template/planning document, not a full itinerary. Shopping validation may not apply.",
        "When user commits to specific dates/cities, shopping agent should generate recommendations."
      ]
    },
    "china-feb-15-mar-7-2026-20260202-195429": {
      "name": "china-feb-15-mar-7-2026-20260202-195429",
      "path": "/root/travel-planner/data/china-feb-15-mar-7-2026-20260202-195429/shopping.json",
      "status": "PASS",
      "files_exist": {
        "shopping.json": true,
        "requirements-skeleton.json": true,
        "plan-skeleton.json": true
      },
      "schema_compliance": {
        "has_agent_field": true,
        "has_status_field": true,
        "has_data_field": true,
        "agent_correct": true,
        "status_correct": true,
        "days_array_valid": true,
        "verdict": "COMPLIANT"
      },
      "data_completeness": {
        "total_shopping_items": 27,
        "days_with_shopping": 12,
        "total_days": 21,
        "items_with_missing_fields": 0,
        "shopping_coverage": "57.1%"
      },
      "bilingual_annotations": {
        "checked": true,
        "name_base_count": 27,
        "name_local_count": 27,
        "location_base_count": 27,
        "location_local_count": 27,
        "all_fields_present": true
      },
      "required_fields_validation": {
        "name_base": "27/27",
        "name_local": "27/27",
        "location_base": "27/27",
        "location_local": "27/27",
        "cost": "27/27",
        "currency_local": "27/27",
        "type_base": "27/27",
        "time": "27/27",
        "optional": "27/27",
        "search_results": "27/27"
      },
      "time_format_validation": {
        "valid_formats": 27,
        "invalid_formats": 0,
        "sample_times": [
          "14:30 - 16:00",
          "10:30 - 10:50",
          "19:00 - 20:30"
        ]
      },
      "cost_validation": {
        "min_cost": 0,
        "max_cost": 300,
        "all_numeric": true,
        "average_cost": 100.0
      },
      "coordinates_validation": {
        "total_items": 27,
        "items_with_coords": 27,
        "missing_coords": 0,
        "lat_range": [29.558005, 39.991922],
        "lng_range": [104.083809, 121.487283]
      },
      "search_results_coverage": {
        "items_with_search_results": 27,
        "items_without_search_results": 0,
        "skills_used": [
          "gaode-maps"
        ]
      },
      "currency_validation": {
        "primary_currency": "CNY",
        "items_with_cny": 27,
        "items_with_other": 0
      },
      "issues": [],
      "warnings": [],
      "recommendations": [
        "All shopping items properly geolocated with Gaode Maps search results",
        "Excellent bilingual annotation coverage for Shanghai and Beijing locations",
        "Consider adding more optional shopping items for remaining 8 days without shopping"
      ]
    }
  },
  "validation_methodology": {
    "schema_checked": "shopping.schema.json",
    "poi_common_checked": "poi-common.schema.json",
    "required_fields_checked": [
      "name_base",
      "name_local",
      "location_base",
      "location_local",
      "cost",
      "currency_local",
      "type_base",
      "time",
      "optional"
    ],
    "validators_run": [
      "Field presence validation",
      "Time format validation (HH:MM)",
      "Cost numeric validation",
      "Coordinate range validation",
      "Bilingual annotation coverage",
      "Search results presence",
      "Currency code validation"
    ]
  }
}
