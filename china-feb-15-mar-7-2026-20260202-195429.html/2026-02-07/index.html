<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Travel Plan</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      overflow-x: hidden;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    // Embedded PLAN_DATA
    const PLAN_DATA = {
  "trip_summary": {
    "trip_type": "Itinerary",
    "description": "Travel Plan",
    "base_location": "",
    "period": "21 days",
    "travelers": "2 adults (couple)",
    "budget_per_trip": "‚Ç¨500",
    "preferences": "mix of hotels and family home stays, no restrictions, moderate with family time, busy girlfriend schedule in Beijing, Girlfriend Chinese level A1, historical/cultural interest low but open, loves cute things (ÊΩÆÁé©Â∫ó), photography, cozy coffee shops, English bookstores"
  },
  "trips": [
    {
      "name": "Chongqing",
      "days_label": "1 day",
      "cover": "https://maps.googleapis.com/maps/api/place/photo?maxwidth=800&photoreference=AcnlKN2oFhll39BD7CB_OpAqByr7vPZncD3fKV3dA7lXG3CjZJS205jJXVPEo_BUT9NDyPPTWql8RjG1VbXLsSV6mzHYUGAefIni9bLeQa9uDaDtNw7gs4eN5UZqGaRyeohLgQKr1u7eoZksk8BkPdox6JNkmi2I1_x11YwhDcs7-ReGTu3VNsK-JLJpTKirt8I832bntD0K8BLI1TWQm-gAppO65nhM-rjwvM_GWYy2q3ZPhydJEb3bY4TxnTh-HS9Ou3YllI7Sd4BxN6U5a4oTpwHaYJDGcwkgcEyULRJ7rurXNkN500OEOC9o9cd0IKAZ9FVu2YD8R-9LpQap6AlaZA86eZBduFRSuxgss_nixvpfUNe1zf8UIDUx6i5wLqT22Lpvln8re_rnijW3Qk2QANKXi5xWf4UR1mJY4KgS1Iw4ckM&key=AIzaSyAUgrWhyX0f47YufM4X5jQ1kKPALzB-Koc",
      "days": [
        {
          "day": 1,
          "date": "2026-02-15",
          "location": "Chongqing",
          "cover": "https://maps.googleapis.com/maps/api/place/photo?maxwidth=800&photoreference=AcnlKN2oFhll39BD7CB_OpAqByr7vPZncD3fKV3dA7lXG3CjZJS205jJXVPEo_BUT9NDyPPTWql8RjG1VbXLsSV6mzHYUGAefIni9bLeQa9uDaDtNw7gs4eN5UZqGaRyeohLgQKr1u7eoZksk8BkPdox6JNkmi2I1_x11YwhDcs7-ReGTu3VNsK-JLJpTKirt8I832bntD0K8BLI1TWQm-gAppO65nhM-rjwvM_GWYy2q3ZPhydJEb3bY4TxnTh-HS9Ou3YllI7Sd4BxN6U5a4oTpwHaYJDGcwkgcEyULRJ7rurXNkN500OEOC9o9cd0IKAZ9FVu2YD8R-9LpQap6AlaZA86eZBduFRSuxgss_nixvpfUNe1zf8UIDUx6i5wLqT22Lpvln8re_rnijW3Qk2QANKXi5xWf4UR1mJY4KgS1Iw4ckM&key=AIzaSyAUgrWhyX0f47YufM4X5jQ1kKPALzB-Koc",
          "user_plans": [],
          "meals": {
            "breakfast": {
              "name": "Raffles City Mall Food Court",
              "name_en": "",
              "cost": 15,
              "cuisine": "Mixed Chinese",
              "signature_dishes": "",
              "image": "http://store.is.autonavi.com/showpic/bfaeb3fb2333044813ba26460f5d829b",
              "time": {
                "start": "08:00",
                "end": "09:00"
              },
              "links": {}
            },
            "lunch": {
              "name": "Ju Fa Cai Chongqing Jianghu Cuisine",
              "name_en": "",
              "cost": 30,
              "cuisine": "Chongqing Jianghu",
              "signature_dishes": "",
              "image": "https://store.is.autonavi.com/showpic/ff578ca4ff60819600e7af350947c4a0",
              "time": {
                "start": "12:00",
                "end": "13:30"
              },
              "links": {}
            },
            "dinner": {
              "name": "Qu Nanshan Yeqing Huoguo Gongyuan",
              "name_en": "",
              "cost": 50,
              "cuisine": "Chongqing Hotpot",
              "signature_dishes": "",
              "image": "https://aos-comment.amap.com/B0KDVUP4I4/comment/content_media_external_file_100005273_1752632281249_79382296.jpg",
              "time": {
                "start": "18:30",
                "end": "20:00"
              },
              "links": {}
            }
          },
          "attractions": [
            {
              "name": "Raffles City Chongqing Observation Deck (Êù•Á¶èÂ£´ËßÇÊôØÂè∞)",
              "name_en": "",
              "location": "Raffles City InterContinental, Chaotianmen",
              "type": "Observation Deck",
              "cost": 30,
              "cost_eur": 0,
              "opening_hours": "",
              "recommended_duration": "",
              "image": "https://store.is.autonavi.com/showpic/09199f9007b2d658507a1007f2d5b411",
              "highlights": [],
              "time": {
                "start": "10:00",
                "end": "12:00"
              },
              "links": {}
            },
            {
              "name": "Huguang Guild Hall (ÊπñÂπø‰ºöÈ¶Ü)",
              "name_en": "",
              "location": "Changjiang Binjiang Road, Bajiaoyuan No.1",
              "type": "Historical Site",
              "cost": 30,
              "cost_eur": 0,
              "opening_hours": "",
              "recommended_duration": "",
              "image": "http://store.is.autonavi.com/showpic/2a4413d9ec5f928e4d71dc743feebb46",
              "highlights": [],
              "time": {
                "start": "12:30",
                "end": "14:30"
              },
              "links": {}
            },
            {
              "name": "Xiayao Li (‰∏ãÊµ©Èáå) & Longmenhao Old Street (ÈæôÈó®Êµ©ËÄÅË°ó)",
              "name_en": "",
              "location": "Nanbin Road 105, near Shangxinjie Metro Station",
              "type": "Historical Street District",
              "cost": 0,
              "cost_eur": 0,
              "opening_hours": "",
              "recommended_duration": "",
              "image": "https://aos-comment.amap.com/B0FFJ0756U/comment/10124929_0854_4BA4_AD17_C426C0805491_L0_001_1179_88_1768744986236_01442204.jpg",
              "highlights": [],
              "time": {
                "start": "15:00",
                "end": "17:00"
              },
              "links": {}
            },
            {
              "name": "Liziba Station (ÊùéÂ≠êÂùùÂçïËΩ®Á©øÊ•º) - Optional",
              "name_en": "",
              "location": "Liziba Zheng Street 62, Liziba Metro Station Exit 1",
              "type": "Urban Landmark",
              "cost": 0,
              "cost_eur": 0,
              "opening_hours": "",
              "recommended_duration": "",
              "image": "http://aos-cdn-image.amap.com/sns/ugccomment/07332bed-1d8e-4b26-a5cc-715fa266137d.jpg",
              "highlights": [],
              "time": {
                "start": "17:30",
                "end": "19:30"
              },
              "links": {}
            },
            {
              "name": "Hongyadong (Ê¥™Â¥ñÊ¥ûÊ∞ë‰øóÈ£éË≤åÂå∫) - Optional",
              "name_en": "",
              "location": "Jialing River Binjiang Road 88",
              "type": "Scenic Area",
              "cost": 0,
              "cost_eur": 0,
              "opening_hours": "",
              "recommended_duration": "",
              "image": "http://store.is.autonavi.com/showpic/ba42dbbf1e38e41ba65a84f3d021b96b",
              "highlights": [],
              "time": {
                "start": "20:00",
                "end": "22:00"
              },
              "links": {}
            }
          ],
          "entertainment": [
            {
              "name": "Èùô¬∑serene SPA Ê≥∞ÂºèÊåâÊë©Ë∂≥Áñó (Serene Thai SPA)",
              "name_en": "",
              "type": "Spa/Massage - Thai Style",
              "cost": 100,
              "duration": "",
              "note": "",
              "image": "",
              "time": "22:00",
              "links": {}
            },
            {
              "name": "ËßÇËøúË∂≥ÈÅìÂÖªÁîü (Guanyuan Zudao Wellness - Jiefangbei)",
              "name_en": "",
              "type": "Spa/Massage - Foot Reflexology",
              "cost": 182,
              "duration": "",
              "note": "",
              "image": "https://aos-comment.amap.com/B0JBKSNE8C/comment/content_media_external_images_media_100008656_1738598788389_41330553.jpg",
              "time": "22:00",
              "links": {}
            },
            {
              "name": "KOH Thai SPA ÊöπÁΩó‰πãÂ±øÊ≥∞ÂºèÊåâÊë©Ë∂≥Áñó (Jiefangbei 2nd Branch)",
              "name_en": "",
              "type": "Spa/Massage - Thai Style",
              "cost": 120,
              "duration": "",
              "note": "",
              "image": "http://store.is.autonavi.com/showpic/8bf1145a0331b4b525daf2ada959e414",
              "time": "22:00",
              "links": {}
            }
          ],
          "accommodation": {
            "name": "InterContinental Chongqing Raffles City",
            "name_cn": "",
            "type": "Hotel",
            "location": "NO. 2 Yangtze River Binjiang Road, Yuzhong District, Chongqing, China, 400010",
            "cost": 90,
            "stars": 3,
            "time": {
              "start": "15:00",
              "end": "16:00"
            },
            "links": {},
            "image": "https://store.is.autonavi.com/showpic/c1ae08df1d487e9d3388d49ccb1402d3"
          },
          "transportation": null,
          "budget": {
            "meals": 95,
            "attractions": 60,
            "entertainment": 402,
            "accommodation": 90,
            "total": 647
          }
        }
      ]
    },
    {
      "name": "Bazhong",
      "days_label": "1 day",
      "cover": "https://maps.googleapis.com/maps/api/place/photo?maxwidth=800&photoreference=AcnlKN0u3JTOXHk2_cK0etHa8ApTasCTgDyAADay4GYQXHo---qPyrs5_fop4w7gfs6cOikJ0OdsFbag8gA6vWUUavVPOJjhy74VITgxWKExHhBBK3ooJw8nwLPytRwpVUbCzldmN7tvTECALjTUOXcCr0TUYIW3KYpH0ozP_iTFwLW_NsjQ7XLTPlxABYj345kYEW_D9ZxccxVDoW-6uyWUGBv8t76hrgbjegZANlmvI3C8yE6VVPgtL0InpKG1JdD--8x6xN3kI-s7e4j7dz4mobWHxiS0JJ8DIDFeKvz9ryGQhC-jDB7Ex5_1WovZXlLgVw3dP-lVLvaO1focdKyGqIfkjMJ4Z0AXeuCIro15Xyc6aEmzsPRvKPer35lp2GtbGShxx7C-psIYoYRGZ4A2-FaomdfhI9e8AppBG0r0XOcZRw&key=AIzaSyAUgrWhyX0f47YufM4X5jQ1kKPALzB-Koc",
      "days": [
        {
          "day": 2,
          "date": "2026-02-16",
          "location": "Bazhong",
          "cover": "https://maps.googleapis.com/maps/api/place/photo?maxwidth=800&photoreference=AcnlKN0u3JTOXHk2_cK0etHa8ApTasCTgDyAADay4GYQXHo---qPyrs5_fop4w7gfs6cOikJ0OdsFbag8gA6vWUUavVPOJjhy74VITgxWKExHhBBK3ooJw8nwLPytRwpVUbCzldmN7tvTECALjTUOXcCr0TUYIW3KYpH0ozP_iTFwLW_NsjQ7XLTPlxABYj345kYEW_D9ZxccxVDoW-6uyWUGBv8t76hrgbjegZANlmvI3C8yE6VVPgtL0InpKG1JdD--8x6xN3kI-s7e4j7dz4mobWHxiS0JJ8DIDFeKvz9ryGQhC-jDB7Ex5_1WovZXlLgVw3dP-lVLvaO1focdKyGqIfkjMJ4Z0AXeuCIro15Xyc6aEmzsPRvKPer35lp2GtbGShxx7C-psIYoYRGZ4A2-FaomdfhI9e8AppBG0r0XOcZRw&key=AIzaSyAUgrWhyX0f47YufM4X5jQ1kKPALzB-Koc",
          "user_plans": [],
          "meals": {
            "breakfast": {
              "name": "Family Home",
              "name_en": "",
              "cost": 0,
              "cuisine": "Homemade",
              "signature_dishes": "",
              "image": "https://store.is.autonavi.com/showpic/5a9eb38839e3cb315376a134a7f3ec25",
              "time": {
                "start": "08:00",
                "end": "09:00"
              },
              "links": {}
            },
            "lunch": {
              "name": "Family Home",
              "name_en": "",
              "cost": 0,
              "cuisine": "Homemade",
              "signature_dishes": "",
              "image": "https://store.is.autonavi.com/showpic/5a9eb38839e3cb315376a134a7f3ec25",
              "time": {
                "start": "12:00",
                "end": "13:30"
              },
              "links": {}
            },
            "dinner": {
              "name": "Family Home - Chinese New Year Eve Dinner",
              "name_en": "",
              "cost": 0,
              "cuisine": "Traditional Sichuan",
              "signature_dishes": "",
              "image": "https://aos-comment.amap.com/B0HAU5SAGR/comment/content_media_external_images_media_1000105515_ss__1739943350037_59505773.jpg",
              "time": {
                "start": "18:30",
                "end": "20:00"
              },
              "links": {}
            }
          },
          "attractions": [],
          "entertainment": [
            {
              "name": "Making Dumplings Together (ÂåÖÈ•∫Â≠ê BƒÅo Ji«éozi)",
              "name_en": "",
              "type": "Afternoon Preparation Activity",
              "cost": 0,
              "duration": "",
              "note": "",
              "image": "",
              "time": "13:00",
              "links": {}
            },
            {
              "name": "Free Time (Ëá™Áî±Êó∂Èó¥ Z√¨y√≥u Sh√≠jiƒÅn)",
              "name_en": "",
              "type": "Flexible Family Time",
              "cost": 0,
              "duration": "",
              "note": "",
              "image": "",
              "time": "15:00",
              "links": {}
            },
            {
              "name": "Reunion Dinner and Spring Festival Gala (Âπ¥Â§úÈ•≠ + Êò•ÊôöËÉåÊôØ)",
              "name_en": "",
              "type": "Natural Evening Flow",
              "cost": 0,
              "duration": "",
              "note": "",
              "image": "",
              "time": "18:30",
              "links": {}
            },
            {
              "name": "Midnight Countdown and First Dumplings (ÂÆàÂ≤Å Sh«íusu√¨)",
              "name_en": "",
              "type": "Traditional Ritual",
              "cost": 0,
              "duration": "",
              "note": "",
              "image": "",
              "time": "23:45",
              "links": {}
            }
          ],
          "accommodation": {
            "name": "Family Home",
            "name_cn": "",
            "type": "Family Home",
            "location": "ÂçäÂ±±ÈÄ∏ÂüéAÂå∫35Âπ¢1902, Bazhong, Sichuan Province",
            "cost": 0,
            "stars": 3,
            "time": {
              "start": "15:00",
              "end": "16:00"
            },
            "links": {},
            "image": "https://store.is.autonavi.com/showpic/5a9eb38839e3cb315376a134a7f3ec25"
          },
          "transportation": {
            "from": "Chongqing",
            "to": "Bazhong",
            "departure_point": "Chongqing North Station (ÈáçÂ∫ÜÂåóÁ´ô)",
            "arrival_point": "Bazhong East Station (Â∑¥‰∏≠‰∏úÁ´ô)",
            "departure_time": "07:26",
            "arrival_time": "10:36",
            "transport_type": "High-speed Train",
            "icon": "üöÑ",
            "route_number": "VERIFIED BY USER",
            "airline": "",
            "cost": 14,
            "booking_status": "URGENT",
            "booking_urgency": "CRITICAL - Spring Festival travel period (Èô§Â§ï), book immediately when tickets are released on Jan 17",
            "notes": "‚úÖ SCHEDULE VERIFIED BY USER. Depart Chongqing North 07:26, arrive Bazhong East 10:36. Total journey including hotel‚Üístation‚Üíhome: ~5 hours. Wake up 05:30, depart hotel 06:00, arrive station 06:45, board at 07:15, depart 07:26, arrive 10:36, reach family home by 11:30. Chinese New Year Eve (Èô§Â§ï) - most important reunion day.",
            "time": {
              "start": "07:26",
              "end": "10:36"
            }
          },
          "budget": {
            "meals": 0,
            "attractions": 0,
            "entertainment": 0,
            "accommodation": 0,
            "total": 0
          }
        }
      ]
    },
    {
      "name": "Chengdu",
      "days_label": "1 day",
      "cover": "https://maps.googleapis.com/maps/api/place/photo?maxwidth=800&photoreference=AcnlKN3Y9BD5chEj6Ntg0kYVm9a2DYOebQ8QUy0cMLxM9Y4FlrOazVF_717-o-7Q-R65sVRfOmWwCv0lCpCFk8npxbuJy5e0JGal1MCcj1WMTl6W5br0CR3SJ10rBSHq9yxIvYgF6ou93Wa6xBTyOVDFjTyehOAmGqdXzRTVHkgArPjcoQOjP0Io_boOtf-yL2kNcRBHez9jkfL6mSHOObzaDmHeyGh2b1Sj4OEFspcjiES9LEWlA5u7YRyerCmi_zev4rl7lT-j4egGnbNAc7DlAhBIdvPlZviuR40uav4QXU61rWZIXo3A_VbviAL2gOTjUCDKTHwoCM0zy7FRtehl6IcOF17-o9EFcLCQN8xIYADY9_shSmwvtSbB5-gVKMQtCu6yMqw0ELsFiA8PnX8X8iqcCxzUxjgVg1t3G1bkZsE&key=AIzaSyAUgrWhyX0f47YufM4X5jQ1kKPALzB-Koc",
      "days": [
        {
          "day": 3,
          "date": "2026-02-17",
          "location": "Chengdu",
          "cover": "https://maps.googleapis.com/maps/api/place/photo?maxwidth=800&photoreference=AcnlKN3Y9BD5chEj6Ntg0kYVm9a2DYOebQ8QUy0cMLxM9Y4FlrOazVF_717-o-7Q-R65sVRfOmWwCv0lCpCFk8npxbuJy5e0JGal1MCcj1WMTl6W5br0CR3SJ10rBSHq9yxIvYgF6ou93Wa6xBTyOVDFjTyehOAmGqdXzRTVHkgArPjcoQOjP0Io_boOtf-yL2kNcRBHez9jkfL6mSHOObzaDmHeyGh2b1Sj4OEFspcjiES9LEWlA5u7YRyerCmi_zev4rl7lT-j4egGnbNAc7DlAhBIdvPlZviuR40uav4QXU61rWZIXo3A_VbviAL2gOTjUCDKTHwoCM0zy7FRtehl6IcOF17-o9EFcLCQN8xIYADY9_shSmwvtSbB5-gVKMQtCu6yMqw0ELsFiA8PnX8X8iqcCxzUxjgVg1t3G1bkZsE&key=AIzaSyAUgrWhyX0f47YufM4X5jQ1kKPALzB-Koc",
          "user_plans": [],
          "meals": {
            "breakfast": {
              "name": "Lao Wu Jiangrou Baozi",
              "name_en": "",
              "cost": 5,
              "cuisine": "Bazhong Specialty",
              "signature_dishes": "",
              "image": "http://store.is.autonavi.com/query_pic?id=stc3906d08-7489-424b-afff-41191d0ddba5&user=search&operate=original",
              "time": {
                "start": "08:00",
                "end": "09:00"
              },
              "links": {}
            },
            "lunch": {
              "name": "Lao Qi Niurou",
              "name_en": "",
              "cost": 20,
              "cuisine": "Sichuan Beef",
              "signature_dishes": "",
              "image": "https://aos-comment.amap.com/B0GKDDSD1R/comment/B1DB637A_1D1F_4501_8B34_518792053C20_L0_001_1280_170_1766906610728_19966021.jpg",
              "time": {
                "start": "12:00",
                "end": "13:30"
              },
              "links": {}
            },
            "dinner": {
              "name": "Qinshanzhai (Èí¶ËÜ≥Êñã)",
              "name_en": "",
              "cost": 50,
              "cuisine": "Sichuan",
              "signature_dishes": "",
              "image": "http://store.is.autonavi.com/showpic/72710d4351304b24a4ccd8980a43c3f5",
              "time": {
                "start": "18:30",
                "end": "20:00"
              },
              "links": {}
            }
          },
          "attractions": [
            {
              "name": "Chengdu Taikoo Li (ÊàêÈÉΩÂ§™Âè§Èáå)",
              "name_en": "",
              "location": "Zhong Shamao Street 8, Chunxi Road area",
              "type": "Shopping District",
              "cost": 0,
              "cost_eur": 0,
              "opening_hours": "",
              "recommended_duration": "",
              "image": "http://store.is.autonavi.com/showpic/4E377E858534426097901E10EEAFCD8E",
              "highlights": [],
              "time": {
                "start": "10:00",
                "end": "12:00"
              },
              "links": {}
            }
          ],
          "entertainment": [],
          "accommodation": {
            "name": "Family Home",
            "name_cn": "",
            "type": "Family Home",
            "location": "Ë•øÈî¶ÂõΩÈôÖ‰∫åÊúüÂõõÂπ¢ÂõõÂçïÂÖÉ1902 (alternate address: Ëä±ÁâåÂùäÂåóË°ó99Âè∑), Jinniu District, Chengdu, Sichuan Province",
            "cost": 0,
            "stars": 3,
            "time": {
              "start": "15:00",
              "end": "16:00"
            },
            "links": {},
            "image": "https://store.is.autonavi.com/showpic/5a9eb38839e3cb315376a134a7f3ec25"
          },
          "transportation": {
            "from": "Bazhong",
            "to": "Chengdu",
            "departure_point": "Bazhong West Station (Â∑¥‰∏≠Ë•øÁ´ô)",
            "arrival_point": "Chengdu East Station (ÊàêÈÉΩ‰∏úÁ´ô)",
            "departure_time": "12:42",
            "arrival_time": "14:52",
            "transport_type": "High-speed Train",
            "icon": "üöÑ",
            "route_number": "VERIFIED BY USER",
            "airline": "",
            "cost": 11,
            "booking_status": "URGENT",
            "booking_urgency": "CRITICAL - Spring Festival Day 1 (Êò•ËäÇÂàù‰∏Ä), book on Jan 18",
            "notes": "‚úÖ VERIFIED BY USER. Â∑¥‰∏≠Ë•øÁ´ô 12:42 ‚Üí ÊàêÈÉΩ‰∏úÁ´ô 14:52 (2h 10min). ‚ö†Ô∏è IMPORTANT: Bazhong WEST Station (Â∑¥‰∏≠Ë•øÁ´ô), NOT Bazhong East (Â∑¥‰∏≠‰∏úÁ´ô). Timeline: 07:00 ÊãúÂπ¥ with family, 09:00 breakfast at ËÄÅ‰∫îÈÖ±ËÇâÂåÖÂ≠ê (MUST-VISIT), 11:00 lunch at ËÄÅ‰∏ÉÁâõËÇâ (MUST-VISIT), 12:00 taxi to Â∑¥‰∏≠Ë•øÁ´ô, 12:42 train departs, 14:52 arrive ÊàêÈÉΩ‰∏ú, 15:30 check-in hotel, 17:00 dinner at Taolin Restaurant Taikoo Li (1/3 required Chengdu restaurants).",
            "time": {
              "start": "12:42",
              "end": "14:52"
            }
          },
          "budget": {
            "meals": 75,
            "attractions": 0,
            "entertainment": 0,
            "accommodation": 0,
            "total": 75
          }
        }
      ]
    },
    {
      "name": "Shanghai",
      "days_label": "4 days",
      "cover": "https://maps.googleapis.com/maps/api/place/photo?maxwidth=800&photoreference=AcnlKN1Hr69wEGwKi-liGrayf8Xwx14srPqyR82m2GyX-8xTbYcdCOjVgIe_9ggV2bRfpsFewFXnCAlI5Udr49_4EgQH6q2WFpztvzJyHa3e6SScFrsiCSXyEskmXsOv33CY3905rJ2ZBpCsTf6xLAptkBfSD1bBCzVeB_Sool771ZoqFoBjN_HEXqyBWNq_WyAht4wtQ3v5lr5Wk41O8jcpZDi4XSxdXa8T6bpD_d16Y5kZmzbnLfLaNAt9EzQs3Ah9vLGUHMpax-zMG1PrJD_RN8TzQE6_VZ1PVYQHbznLcebFg0cNxzO8kpqG0AM7UHDGUll9t3I_LOeWwKwfZpwHjZ2HYR7ebT8NrTMRLdo5pF_PCEVY1COlciC7UkrRv7ycmn7wA-RHoW0BNLYfJQ6GIwFzoJFCGCl9B_h5NJ0QD_G_uA&key=AIzaSyAUgrWhyX0f47YufM4X5jQ1kKPALzB-Koc",
      "days": [
        {
          "day": 4,
          "date": "2026-02-18",
          "location": "Shanghai",
          "cover": "https://maps.googleapis.com/maps/api/place/photo?maxwidth=800&photoreference=AcnlKN1Hr69wEGwKi-liGrayf8Xwx14srPqyR82m2GyX-8xTbYcdCOjVgIe_9ggV2bRfpsFewFXnCAlI5Udr49_4EgQH6q2WFpztvzJyHa3e6SScFrsiCSXyEskmXsOv33CY3905rJ2ZBpCsTf6xLAptkBfSD1bBCzVeB_Sool771ZoqFoBjN_HEXqyBWNq_WyAht4wtQ3v5lr5Wk41O8jcpZDi4XSxdXa8T6bpD_d16Y5kZmzbnLfLaNAt9EzQs3Ah9vLGUHMpax-zMG1PrJD_RN8TzQE6_VZ1PVYQHbznLcebFg0cNxzO8kpqG0AM7UHDGUll9t3I_LOeWwKwfZpwHjZ2HYR7ebT8NrTMRLdo5pF_PCEVY1COlciC7UkrRv7ycmn7wA-RHoW0BNLYfJQ6GIwFzoJFCGCl9B_h5NJ0QD_G_uA&key=AIzaSyAUgrWhyX0f47YufM4X5jQ1kKPALzB-Koc",
          "user_plans": [],
          "meals": {
            "breakfast": {
              "name": "B«é'√®r Xi«éoq≈´ ChƒÅosh«íu (ÂÖ´‰∫åÂ∞èÂå∫ÊäÑÊâã) - Jianshe Road Flagship",
              "name_en": "",
              "cost": 3,
              "cuisine": "Sichuan ChƒÅosh«íu (Wontons)",
              "signature_dishes": "",
              "image": "",
              "time": "07:00-08:00",
              "links": {}
            },
            "lunch": {
              "name": "Mingting Xiaoguan (ÊòéÂ©∑Â∞èÈ¶Ü) - Taikoo Li Flagship",
              "name_en": "",
              "cost": 11,
              "cuisine": "Chinese Restaurant (Sichuan)",
              "signature_dishes": "",
              "image": "https://aos-comment.amap.com/comment/content_service_4d77d058239e88aee297c16964fc44cc_1767980255753_35019463.jpg",
              "time": "11:00-11:45",
              "links": {}
            },
            "dinner": {
              "name": "Lao Gan Bei Shanghai Bund Flagship (ËÄÅ‰πæÊùØ‰∏äÊµ∑Â§ñÊª©Êú¨Â∫ó)",
              "name_en": "",
              "cost": 84,
              "cuisine": "Japanese Yakiniku (Êó•ÂºèÁÉßËÇâ)",
              "signature_dishes": "",
              "image": "http://store.is.autonavi.com/showpic/9d2ce523dfcb78e69268fb27beb18fb3",
              "time": "19:30-21:00",
              "links": {}
            }
          },
          "attractions": [
            {
              "name": "Chengdu Giant Panda Breeding Research Base (ÊàêÈÉΩÂ§ßÁÜäÁå´ÁπÅËÇ≤Á†îÁ©∂Âü∫Âú∞)",
              "name_en": "",
              "location": "Xiongmao Avenue 1375, North Third Ring Road",
              "type": "Wildlife Park",
              "cost": 55,
              "cost_eur": 0,
              "opening_hours": "",
              "recommended_duration": "",
              "image": "https://aos-comment.amap.com/B001C7WE5S/comment/content_media_external_file_100006799_1767191789906_56269281.jpg",
              "highlights": [],
              "time": {
                "start": "10:00",
                "end": "12:00"
              },
              "links": {}
            },
            {
              "name": "Jinli Ancient Street (Èî¶ÈáåÂè§Ë°ó)",
              "name_en": "",
              "location": "Wuhou Temple Street 231, Wuhou District",
              "type": "Historical Street",
              "cost": 0,
              "cost_eur": 0,
              "opening_hours": "",
              "recommended_duration": "",
              "image": "http://store.is.autonavi.com/showpic/d474b5c8c8e429854cf808e1445bc15e",
              "highlights": [],
              "time": {
                "start": "12:30",
                "end": "14:30"
              },
              "links": {}
            }
          ],
          "entertainment": [],
          "accommodation": {
            "name": "Shanghai SK Lusso Hotel (SKÁÆÄÂ•¢¬∑ÈÄÖÁÜôÈÖíÂ∫ó)",
            "name_cn": "",
            "type": "Hotel",
            "location": "Zone G, Shanghai Keji Jingcheng, No. 668 Beijing East Road, Huangpu District, Shanghai (Âçó‰∫¨Ë∑ØÊ≠•Ë°åË°óÂ∫ó)",
            "cost": 75,
            "stars": 3,
            "time": {
              "start": "15:00",
              "end": "16:00"
            },
            "links": {},
            "image": "https://store.is.autonavi.com/showpic/88c1acf7bc8b9e4e44776bf5ddc40545"
          },
          "transportation": {
            "from": "Chengdu",
            "to": "Shanghai",
            "departure_point": "Chengdu Shuangliu International Airport (CTU)",
            "arrival_point": "Shanghai Pudong International Airport (PVG)",
            "departure_time": "14:35",
            "arrival_time": "17:20",
            "transport_type": "Flight",
            "icon": "‚úàÔ∏è",
            "route_number": "CA4509",
            "airline": "Air China",
            "cost": 0,
            "booking_status": "CONFIRMED - Flight already booked",
            "booking_urgency": "",
            "notes": "Flight ALREADY BOOKED. CA4509 departs 14:35 from CTU T2, arrives PVG T2 at 17:20. Morning itinerary: Home (07:00) ‚Üí Mingting Restaurant breakfast (07:24-08:00) ‚Üí Giant Panda Base (08:51-10:00) ‚Üí Taikoo Li shopping (11:01-12:00) ‚Üí Shuangliu Airport T2 (13:11) ‚Üí Flight (14:35). Total morning routes: 207 minutes. CRITICAL: Must depart Taikoo Li by 12:00 to allow 95-minute buffer before check-in deadline. Use Metro Line 3 for airport route (fastest, most reliable during Spring Festival). Total morning transport cost: ¬•15 (~$2.20). Shanghai Pudong T2 to hotel: Metro Line 2 (~90 min). Evening hotel check-in at SK Luxury Hotel.",
            "time": {
              "start": "14:35",
              "end": "17:20"
            }
          },
          "budget": {
            "meals": 98,
            "attractions": 55,
            "entertainment": 0,
            "accommodation": 75,
            "total": 228
          }
        },
        {
          "day": 5,
          "date": "2026-02-19",
          "location": "Shanghai",
          "cover": "https://maps.googleapis.com/maps/api/place/photo?maxwidth=800&photoreference=AcnlKN1Hr69wEGwKi-liGrayf8Xwx14srPqyR82m2GyX-8xTbYcdCOjVgIe_9ggV2bRfpsFewFXnCAlI5Udr49_4EgQH6q2WFpztvzJyHa3e6SScFrsiCSXyEskmXsOv33CY3905rJ2ZBpCsTf6xLAptkBfSD1bBCzVeB_Sool771ZoqFoBjN_HEXqyBWNq_WyAht4wtQ3v5lr5Wk41O8jcpZDi4XSxdXa8T6bpD_d16Y5kZmzbnLfLaNAt9EzQs3Ah9vLGUHMpax-zMG1PrJD_RN8TzQE6_VZ1PVYQHbznLcebFg0cNxzO8kpqG0AM7UHDGUll9t3I_LOeWwKwfZpwHjZ2HYR7ebT8NrTMRLdo5pF_PCEVY1COlciC7UkrRv7ycmn7wA-RHoW0BNLYfJQ6GIwFzoJFCGCl9B_h5NJ0QD_G_uA&key=AIzaSyAUgrWhyX0f47YufM4X5jQ1kKPALzB-Koc",
          "user_plans": [],
          "meals": {
            "breakfast": {
              "name": "Always Coffee Roaster",
              "name_en": "",
              "cost": 4,
              "cuisine": "Specialty Coffee & Light Breakfast",
              "signature_dishes": "",
              "image": "https://aos-comment.amap.com/B0L6K9D71B/comment/79832E2C_0CE7_4A7D_B0AA_B283ADFB7A27_L0_001_1500_2000_1736783734616_45410581.jpg",
              "time": "08:00-09:00",
              "links": {}
            },
            "lunch": {
              "name": "Renheguan (‰∫∫ÂíåÈ¶Ü) - Zaojiabang Road Branch",
              "name_en": "",
              "cost": 28,
              "cuisine": "Shanghai Benbang Cuisine (‰∏äÊµ∑Êú¨Â∏ÆËèú)",
              "signature_dishes": "",
              "image": "http://store.is.autonavi.com/showpic/bb70060d2909387a15ea0efbaae2abce",
              "time": "12:30-14:00",
              "links": {}
            },
            "dinner": {
              "name": "AJIYA (AJIYA) - Jing'an Branch",
              "name_en": "",
              "cost": 19,
              "cuisine": "Japanese Yakiniku (Êó•ÂºèÁÉ§ËÇâ)",
              "signature_dishes": "",
              "image": "http://store.is.autonavi.com/showpic/4a175a665f461dd6f3e968e578a1dd69",
              "time": "18:00-20:00",
              "links": {}
            }
          },
          "attractions": [
            {
              "name": "The Bund (Â§ñÊª©)",
              "name_en": "",
              "location": "Zhongshan East Road No.1, Huangpu District",
              "type": "Waterfront Promenade",
              "cost": 0,
              "cost_eur": 0,
              "opening_hours": "",
              "recommended_duration": "",
              "image": "https://aos-comment.amap.com/B0LBZ1OUJN/comment/03F87471_8C8D_44D1_A216_EF99F5FC6C69_L0_001_1500_200_1752851465527_86667218.jpg",
              "highlights": [],
              "time": {
                "start": "10:00",
                "end": "12:00"
              },
              "links": {}
            },
            {
              "name": "People's Square (‰∫∫Ê∞ëÂπøÂú∫) - Brief Stop",
              "name_en": "",
              "location": "Renmin Avenue 185, Huangpu District",
              "type": "City Square",
              "cost": 0,
              "cost_eur": 0,
              "opening_hours": "",
              "recommended_duration": "",
              "image": "http://aos-cdn-image.amap.com/sns/ugccomment/fc97d463-bea4-4028-86b8-b3213e8dbc6c.jpg",
              "highlights": [],
              "time": {
                "start": "12:30",
                "end": "14:30"
              },
              "links": {}
            },
            {
              "name": "plusone coffee (ÂÆâÁ¶èË∑ØÂ∫ó)",
              "name_en": "",
              "location": "Anfu Road 156, Hunan Road area, Xuhui District",
              "type": "Boutique Coffee Shop",
              "cost": 12,
              "cost_eur": 0,
              "opening_hours": "",
              "recommended_duration": "",
              "image": "https://aos-comment.amap.com/B0IR1RWDF8/comment/D9D7ACFC_D2E1_46A9_8C16_0EC8CA5352C0_L0_001_1500_200_1764307551099_36167934.jpg",
              "highlights": [],
              "time": {
                "start": "15:00",
                "end": "17:00"
              },
              "links": {}
            },
            {
              "name": "Gregorius SHADE",
              "name_en": "",
              "location": "Anfu Road 53, Xuhui District (300m from Changshu Road Metro)",
              "type": "Cafe & Boutique",
              "cost": 10,
              "cost_eur": 0,
              "opening_hours": "",
              "recommended_duration": "",
              "image": "https://aos-comment.amap.com/B0I61590O5/comment/47A0386B_4249_4F03_A170_11C1B24B1C87_L0_001_1500_200_1757583886367_19016853.jpg",
              "highlights": [],
              "time": {
                "start": "17:30",
                "end": "19:30"
              },
              "links": {}
            },
            {
              "name": "Wukang Road Walking Area (Ê≠¶Â∫∑Ë∑ØÂéÜÂè≤ÊñáÂåñÂêçË°ó)",
              "name_en": "",
              "location": "Wukang Road, Xuhui District (intersection with Hunan Road)",
              "type": "Historic Street & Photography Spot",
              "cost": 0,
              "cost_eur": 0,
              "opening_hours": "",
              "recommended_duration": "",
              "image": "https://aos-comment.amap.com/B0FFIK0Z21/comment/content_media_external_file_4968_ss__1767330076262_54314946.jpg",
              "highlights": [],
              "time": {
                "start": "20:00",
                "end": "22:00"
              },
              "links": {}
            },
            {
              "name": "Garden Books (Èïø‰πêÂ∫ó)",
              "name_en": "",
              "location": "Changle Road 325, near Shaanxi South Road Metro (480m)",
              "type": "English Bookstore & Cafe",
              "cost": 0,
              "cost_eur": 0,
              "opening_hours": "",
              "recommended_duration": "",
              "image": "https://aos-comment.amap.com/B00155LIKE/comment/%5B2025-12-14-17-28-47%5D430E0AE1-D38A-4F07-B52B-81F1E62C5CC_1765704538758_15015164.jpg",
              "highlights": [],
              "time": {
                "start": "22:30",
                "end": "24:30"
              },
              "links": {}
            },
            {
              "name": "Pudong Art Museum (Êµ¶‰∏úÁæéÊúØÈ¶Ü) - Optional",
              "name_en": "",
              "location": "Binjiang Avenue 2777, Pudong District",
              "type": "Art Museum",
              "cost": 60,
              "cost_eur": 0,
              "opening_hours": "",
              "recommended_duration": "",
              "image": "http://store.is.autonavi.com/showpic/eb2f3b5d5d376093b8687edb28206753",
              "highlights": [],
              "time": {
                "start": "25:00",
                "end": "27:00"
              },
              "links": {}
            }
          ],
          "entertainment": [
            {
              "name": "Caf√© del Volc√°n",
              "name_en": "",
              "type": "Coffee Shop",
              "cost": 40,
              "duration": "",
              "note": "",
              "image": "",
              "time": "14:00",
              "links": {}
            },
            {
              "name": "Seesaw Coffee",
              "name_en": "",
              "type": "Coffee Shop",
              "cost": 35,
              "duration": "",
              "note": "",
              "image": "http://store.is.autonavi.com/query_pic?id=stc3067a92-e674-41b5-91e9-ff9987b12cfc&user=search&operate=original",
              "time": "15:00",
              "links": {}
            },
            {
              "name": "Single Origin Roasters",
              "name_en": "",
              "type": "Coffee Shop",
              "cost": 30,
              "duration": "",
              "note": "",
              "image": "https://aos-comment.amap.com/B0LDRUGXSG/comment/content_media_external_file_38688_ss__1749970793506_53767178.jpg",
              "time": "16:00",
              "links": {}
            }
          ],
          "accommodation": {
            "name": "Shanghai SK Lusso Hotel (SKÁÆÄÂ•¢¬∑ÈÄÖÁÜôÈÖíÂ∫ó)",
            "name_cn": "",
            "type": "Hotel",
            "location": "Zone G, Shanghai Keji Jingcheng, No. 668 Beijing East Road, Huangpu District, Shanghai (Âçó‰∫¨Ë∑ØÊ≠•Ë°åË°óÂ∫ó)",
            "cost": 75,
            "stars": 3,
            "time": {
              "start": "15:00",
              "end": "16:00"
            },
            "links": {},
            "image": "https://store.is.autonavi.com/showpic/88c1acf7bc8b9e4e44776bf5ddc40545"
          },
          "transportation": null,
          "budget": {
            "meals": 51,
            "attractions": 82,
            "entertainment": 105,
            "accommodation": 75,
            "total": 313
          }
        },
        {
          "day": 6,
          "date": "2026-02-20",
          "location": "Shanghai",
          "cover": "https://maps.googleapis.com/maps/api/place/photo?maxwidth=800&photoreference=AcnlKN1Hr69wEGwKi-liGrayf8Xwx14srPqyR82m2GyX-8xTbYcdCOjVgIe_9ggV2bRfpsFewFXnCAlI5Udr49_4EgQH6q2WFpztvzJyHa3e6SScFrsiCSXyEskmXsOv33CY3905rJ2ZBpCsTf6xLAptkBfSD1bBCzVeB_Sool771ZoqFoBjN_HEXqyBWNq_WyAht4wtQ3v5lr5Wk41O8jcpZDi4XSxdXa8T6bpD_d16Y5kZmzbnLfLaNAt9EzQs3Ah9vLGUHMpax-zMG1PrJD_RN8TzQE6_VZ1PVYQHbznLcebFg0cNxzO8kpqG0AM7UHDGUll9t3I_LOeWwKwfZpwHjZ2HYR7ebT8NrTMRLdo5pF_PCEVY1COlciC7UkrRv7ycmn7wA-RHoW0BNLYfJQ6GIwFzoJFCGCl9B_h5NJ0QD_G_uA&key=AIzaSyAUgrWhyX0f47YufM4X5jQ1kKPALzB-Koc",
          "user_plans": [],
          "meals": {
            "breakfast": {
              "name": "Hotel Breakfast",
              "name_en": "",
              "cost": 15,
              "cuisine": "Western/Chinese",
              "signature_dishes": "",
              "image": "",
              "time": {
                "start": "08:00",
                "end": "09:00"
              },
              "links": {}
            },
            "lunch": {
              "name": "Shanghai Disneyland In-Park Dining",
              "name_en": "",
              "cost": 40,
              "cuisine": "International",
              "signature_dishes": "",
              "image": "https://aos-comment.amap.com/B0HR6591IM/headerImg/472348fcc5a7e03a6bb916f6259248a5_2048_2048_80.jpg",
              "time": {
                "start": "12:00",
                "end": "13:30"
              },
              "links": {}
            },
            "dinner": {
              "name": "Shanghai Disneyland In-Park or Disneytown",
              "name_en": "",
              "cost": 50,
              "cuisine": "International",
              "signature_dishes": "",
              "image": "https://aos-comment.amap.com/B0HR6591IM/headerImg/472348fcc5a7e03a6bb916f6259248a5_2048_2048_80.jpg",
              "time": {
                "start": "18:30",
                "end": "20:00"
              },
              "links": {}
            }
          },
          "attractions": [
            {
              "name": "Shanghai Disneyland (‰∏äÊµ∑Ëø™Â£´Â∞º‰πêÂõ≠)",
              "name_en": "",
              "location": "Shendixi Road 753, Chuansha Town, Pudong",
              "type": "Theme Park",
              "cost": 499,
              "cost_eur": 0,
              "opening_hours": "",
              "recommended_duration": "",
              "image": "https://aos-comment.amap.com/B0KDJ78DYD/comment/content_media_external_file_100001734_1769504275457_81775659.jpg",
              "highlights": [],
              "time": {
                "start": "10:00",
                "end": "12:00"
              },
              "links": {}
            }
          ],
          "entertainment": [],
          "accommodation": {
            "name": "Shanghai SK Lusso Hotel (SKÁÆÄÂ•¢¬∑ÈÄÖÁÜôÈÖíÂ∫ó)",
            "name_cn": "",
            "type": "Hotel",
            "location": "Zone G, Shanghai Keji Jingcheng, No. 668 Beijing East Road, Huangpu District, Shanghai (Âçó‰∫¨Ë∑ØÊ≠•Ë°åË°óÂ∫ó)",
            "cost": 75,
            "stars": 3,
            "time": {
              "start": "15:00",
              "end": "16:00"
            },
            "links": {},
            "image": "https://store.is.autonavi.com/showpic/88c1acf7bc8b9e4e44776bf5ddc40545"
          },
          "transportation": null,
          "budget": {
            "meals": 105,
            "attractions": 499,
            "entertainment": 0,
            "accommodation": 75,
            "total": 679
          }
        },
        {
          "day": 7,
          "date": "2026-02-21",
          "location": "Shanghai",
          "cover": "https://maps.googleapis.com/maps/api/place/photo?maxwidth=800&photoreference=AcnlKN1Hr69wEGwKi-liGrayf8Xwx14srPqyR82m2GyX-8xTbYcdCOjVgIe_9ggV2bRfpsFewFXnCAlI5Udr49_4EgQH6q2WFpztvzJyHa3e6SScFrsiCSXyEskmXsOv33CY3905rJ2ZBpCsTf6xLAptkBfSD1bBCzVeB_Sool771ZoqFoBjN_HEXqyBWNq_WyAht4wtQ3v5lr5Wk41O8jcpZDi4XSxdXa8T6bpD_d16Y5kZmzbnLfLaNAt9EzQs3Ah9vLGUHMpax-zMG1PrJD_RN8TzQE6_VZ1PVYQHbznLcebFg0cNxzO8kpqG0AM7UHDGUll9t3I_LOeWwKwfZpwHjZ2HYR7ebT8NrTMRLdo5pF_PCEVY1COlciC7UkrRv7ycmn7wA-RHoW0BNLYfJQ6GIwFzoJFCGCl9B_h5NJ0QD_G_uA&key=AIzaSyAUgrWhyX0f47YufM4X5jQ1kKPALzB-Koc",
          "user_plans": [],
          "meals": {
            "breakfast": {
              "name": "Specialty Coffee Shop",
              "name_en": "",
              "cost": 25,
              "cuisine": "Western/Cafe",
              "signature_dishes": "",
              "image": "",
              "time": {
                "start": "08:00",
                "end": "09:00"
              },
              "links": {}
            },
            "lunch": {
              "name": "Trendy Restaurant in Tianzifang",
              "name_en": "",
              "cost": 35,
              "cuisine": "Fusion/International",
              "signature_dishes": "",
              "image": "http://store.is.autonavi.com/showpic/4954294db139f51a5c7466ffef7de59c",
              "time": {
                "start": "12:00",
                "end": "13:30"
              },
              "links": {}
            },
            "dinner": {
              "name": "Bairong New Shandong Cuisine",
              "name_en": "",
              "cost": 90,
              "cuisine": "Shandong (MICHELIN)",
              "signature_dishes": "",
              "image": "https://store.is.autonavi.com/showpic/e395680a6930dc055fddaeac6984aefc",
              "time": {
                "start": "18:30",
                "end": "20:00"
              },
              "links": {}
            }
          },
          "attractions": [
            {
              "name": "TOP TOY Global Flagship Store (‰∏äÊµ∑ÂÖ®ÁêÉÊóóËà∞Â∫ó)",
              "name_en": "",
              "location": "Nanjing East Road 558, Shanghai Tourism Product Building, Huangpu District",
              "type": "Designer Toy Store",
              "cost": 0,
              "cost_eur": 0,
              "opening_hours": "",
              "recommended_duration": "",
              "image": "https://aos-comment.amap.com/B0K37NQ6EW/comment/content_media_external_images_media_1000008088_ss__1742731067726_06340943.jpg",
              "highlights": [],
              "time": {
                "start": "10:00",
                "end": "12:00"
              },
              "links": {}
            },
            {
              "name": "POP MART Jing'an Joy City (Ê≥°Ê≥°ÁéõÁâπÈùôÂÆâÂ§ßÊÇ¶ÂüéÂçóÂ∫ßÂ∫ó)",
              "name_en": "",
              "location": "Xizang North Road 166, Jing'an Joy City South Tower 1F",
              "type": "Toy Store",
              "cost": 0,
              "cost_eur": 0,
              "opening_hours": "",
              "recommended_duration": "",
              "image": "https://aos-comment.amap.com/B0FFK9LMXH/comment/file_media_Photo_2593_IMG_1767264259_2345_IMG_20260101_184237_39573ea9-e750-4ba3-804d-80eee8510d32_jpe_1767264258405_43608523.jpg",
              "highlights": [],
              "time": {
                "start": "12:30",
                "end": "14:30"
              },
              "links": {}
            },
            {
              "name": "Tianzifang Arts District (‰∏äÊµ∑Áî∞Â≠êÂùä)",
              "name_en": "",
              "location": "Taikang Road 210, Huangpu District (next to Dapuqiao Metro Exit 1)",
              "type": "Arts & Crafts District",
              "cost": 0,
              "cost_eur": 0,
              "opening_hours": "",
              "recommended_duration": "",
              "image": "http://store.is.autonavi.com/showpic/c229c50a07284982a5f93aecdd309b81",
              "highlights": [],
              "time": {
                "start": "15:00",
                "end": "17:00"
              },
              "links": {}
            },
            {
              "name": "Garden Books (Revisit if not visited Day 5)",
              "name_en": "",
              "location": "Changle Road 325, near Shaanxi South Road Metro",
              "type": "English Bookstore & Cafe",
              "cost": 0,
              "cost_eur": 0,
              "opening_hours": "",
              "recommended_duration": "",
              "image": "https://aos-comment.amap.com/B0IBPCQIQI/comment/abbe7edc9966db543c743836dc3c7bf9_2048_2048_80.jpg",
              "highlights": [],
              "time": {
                "start": "17:30",
                "end": "19:30"
              },
              "links": {}
            },
            {
              "name": "French Concession Coffee Exploration",
              "name_en": "",
              "location": "Anfu Road and surrounding streets, Xuhui District",
              "type": "Coffee Shop Hopping",
              "cost": 0,
              "cost_eur": 0,
              "opening_hours": "",
              "recommended_duration": "",
              "image": "https://aos-comment.amap.com/B0KKC7GE9M/comment/content_media_external_file_93959_ss__1754829875915_36587462.jpg",
              "highlights": [],
              "time": {
                "start": "20:00",
                "end": "22:00"
              },
              "links": {}
            }
          ],
          "entertainment": [
            {
              "name": "TOP TOY (Nanjing East Road Flagship)",
              "name_en": "",
              "type": "Toy Store",
              "cost": 150,
              "duration": "",
              "note": "",
              "image": "https://store.is.autonavi.com/showpic/68e5711e2897e50a6a4d56ec025de52e",
              "time": "11:00",
              "links": {}
            },
            {
              "name": "Garden Books",
              "name_en": "",
              "type": "English Bookstore",
              "cost": 100,
              "duration": "",
              "note": "",
              "image": "https://aos-comment.amap.com/B00155LIKE/comment/%5B2025-12-14-17-28-47%5D430E0AE1-D38A-4F07-B52B-81F1E62C5CC_1765704538758_15015164.jpg",
              "time": "14:00",
              "links": {}
            },
            {
              "name": "Shanghai Foreign Language Bookstore",
              "name_en": "",
              "type": "English Bookstore",
              "cost": 80,
              "duration": "",
              "note": "",
              "image": "https://store.is.autonavi.com/showpic/ad6a7a3f628a02bdb7d8e3210a738d5e",
              "time": "15:30",
              "links": {}
            },
            {
              "name": "Caf√© on Air",
              "name_en": "",
              "type": "Coffee Shop",
              "cost": 35,
              "duration": "",
              "note": "",
              "image": "",
              "time": "16:30",
              "links": {}
            }
          ],
          "accommodation": {
            "name": "Shanghai SK Lusso Hotel (SKÁÆÄÂ•¢¬∑ÈÄÖÁÜôÈÖíÂ∫ó)",
            "name_cn": "",
            "type": "Hotel",
            "location": "Zone G, Shanghai Keji Jingcheng, No. 668 Beijing East Road, Huangpu District, Shanghai (Âçó‰∫¨Ë∑ØÊ≠•Ë°åË°óÂ∫ó)",
            "cost": 75,
            "stars": 3,
            "time": {
              "start": "15:00",
              "end": "16:00"
            },
            "links": {},
            "image": "https://store.is.autonavi.com/showpic/88c1acf7bc8b9e4e44776bf5ddc40545"
          },
          "transportation": null,
          "budget": {
            "meals": 150,
            "attractions": 0,
            "entertainment": 365,
            "accommodation": 75,
            "total": 590
          }
        }
      ]
    },
    {
      "name": "Beijing",
      "days_label": "14 days",
      "cover": "https://maps.googleapis.com/maps/api/place/photo?maxwidth=800&photoreference=AcnlKN3zSNFXjfNQ9B9ecx22tMCa1Eb_pRcOGEUeqlKo4iWV_dEgr1PrK_8i7epN0VAsNf2Q71BYA7LHSP3KBbYzkM06iy3y5Zf8zBzjlzv6xlEoTB8MkVrCqQPYB-VFtA_Gg1Q1YG8HwApDMFIdvgIzo7HOwiQyze2qjfS17M0kXNFoMGzAsQTNxxcwCQSHucaG_QSQPJ2-18rPe5YrWp2NAUUyt39aVD9GQyYGVEYujpc729pgOzOi6WjjaJjGN-irkM6nPioSz9rmTiu_iqmTqasTXTG2lNzLW1l7TrM_O8k5ZwY6JEXFL78JQJ_TqJGmmUQ8QWEzIwdKsSUnbOBez0GnxL7Gn4CxEFrlEoHOSxSBEqwekxiXZNz3SZgBjI03LHvXhVJ7TN97oHugd5DxH6IQdOVdb9AchK3O9a4BisJYVQ&key=AIzaSyAUgrWhyX0f47YufM4X5jQ1kKPALzB-Koc",
      "days": [
        {
          "day": 8,
          "date": "2026-02-22",
          "location": "Beijing",
          "cover": "https://maps.googleapis.com/maps/api/place/photo?maxwidth=800&photoreference=AcnlKN3zSNFXjfNQ9B9ecx22tMCa1Eb_pRcOGEUeqlKo4iWV_dEgr1PrK_8i7epN0VAsNf2Q71BYA7LHSP3KBbYzkM06iy3y5Zf8zBzjlzv6xlEoTB8MkVrCqQPYB-VFtA_Gg1Q1YG8HwApDMFIdvgIzo7HOwiQyze2qjfS17M0kXNFoMGzAsQTNxxcwCQSHucaG_QSQPJ2-18rPe5YrWp2NAUUyt39aVD9GQyYGVEYujpc729pgOzOi6WjjaJjGN-irkM6nPioSz9rmTiu_iqmTqasTXTG2lNzLW1l7TrM_O8k5ZwY6JEXFL78JQJ_TqJGmmUQ8QWEzIwdKsSUnbOBez0GnxL7Gn4CxEFrlEoHOSxSBEqwekxiXZNz3SZgBjI03LHvXhVJ7TN97oHugd5DxH6IQdOVdb9AchK3O9a4BisJYVQ&key=AIzaSyAUgrWhyX0f47YufM4X5jQ1kKPALzB-Koc",
          "user_plans": [],
          "meals": {
            "breakfast": {
              "name": "Airport Quick Service",
              "name_en": "",
              "cost": 15,
              "cuisine": "Chinese Fast Food",
              "signature_dishes": "",
              "image": "http://store.is.autonavi.com/showpic/c6179057182b053891b4103fd97039a9",
              "time": {
                "start": "08:00",
                "end": "09:00"
              },
              "links": {}
            },
            "lunch": {
              "name": "Restaurant near University",
              "name_en": "",
              "cost": 25,
              "cuisine": "Chinese",
              "signature_dishes": "",
              "image": "https://aos-comment.amap.com/B0HAYA0HL2/comment/ecbd9494dd7aa3a86155decdbac87940_2048_2048_80.jpg",
              "time": {
                "start": "12:00",
                "end": "13:30"
              },
              "links": {}
            },
            "dinner": {
              "name": "Pre-Theater Quick Meal",
              "name_en": "",
              "cost": 30,
              "cuisine": "Chinese",
              "signature_dishes": "",
              "image": "http://store.is.autonavi.com/showpic/f0dee19c521ca1d5ee34a702df335e33",
              "time": {
                "start": "18:30",
                "end": "20:00"
              },
              "links": {}
            }
          },
          "attractions": [],
          "entertainment": [
            {
              "name": "Dance Drama 'Âè™Ê≠§ÈùíÁªø' (A Panorama of Rivers and Mountains)",
              "name_en": "",
              "type": "Theater/Performance",
              "cost": 580,
              "duration": "",
              "note": "",
              "image": "",
              "time": "19:00",
              "links": {}
            }
          ],
          "accommodation": {
            "name": "Orange Hotel Beijing Zhongguancun Xueyuanqiao (Ê°îÂ≠êÈÖíÂ∫ó‰∏≠ÂÖ≥ÊùëÂ≠¶Èô¢Ê°•Â∫ó)",
            "name_cn": "",
            "type": "Hotel",
            "location": "Haidian District, Beijing (near Zhongguancun/Academy Bridge area)",
            "cost": 40,
            "stars": 3,
            "time": {
              "start": "15:00",
              "end": "16:00"
            },
            "links": {},
            "image": "https://store.is.autonavi.com/showpic/87552ea7accd9d9a083830170e3cda48"
          },
          "transportation": {
            "from": "Shanghai",
            "to": "Beijing",
            "departure_point": "Shanghai Pudong International Airport (PVG)",
            "arrival_point": "Beijing Daxing International Airport (PKX)",
            "departure_time": "09:05",
            "arrival_time": "11:25",
            "transport_type": "Flight",
            "icon": "‚úàÔ∏è",
            "route_number": "MU5129",
            "airline": "China Eastern Airlines",
            "cost": 0,
            "booking_status": "CONFIRMED - Flight already booked",
            "booking_urgency": "",
            "notes": "Flight ALREADY BOOKED. Departure 09:05 from PVG T1, arrival 11:25 at Beijing Daxing. Total journey ~4.5h including airport transfers. Must leave hotel by 06:30 to allow 2.5h buffer. Hotel to Pudong T1: ~1.5h by metro (Line 2). Beijing Daxing to Orange Hotel (‰∏≠ÂÖ≥Êùë): ~2h by Daxing Airport Express + subway Line 4 + Line 10. Afternoon university registration, evening dance drama 'Âè™Ê≠§ÈùíÁªø'. Tight schedule requires efficient airport transfers.",
            "time": {
              "start": "09:05",
              "end": "11:25"
            }
          },
          "budget": {
            "meals": 70,
            "attractions": 0,
            "entertainment": 580,
            "accommodation": 40,
            "total": 690
          }
        },
        {
          "day": 9,
          "date": "2026-02-23",
          "location": "Beijing",
          "cover": "https://maps.googleapis.com/maps/api/place/photo?maxwidth=800&photoreference=AcnlKN3zSNFXjfNQ9B9ecx22tMCa1Eb_pRcOGEUeqlKo4iWV_dEgr1PrK_8i7epN0VAsNf2Q71BYA7LHSP3KBbYzkM06iy3y5Zf8zBzjlzv6xlEoTB8MkVrCqQPYB-VFtA_Gg1Q1YG8HwApDMFIdvgIzo7HOwiQyze2qjfS17M0kXNFoMGzAsQTNxxcwCQSHucaG_QSQPJ2-18rPe5YrWp2NAUUyt39aVD9GQyYGVEYujpc729pgOzOi6WjjaJjGN-irkM6nPioSz9rmTiu_iqmTqasTXTG2lNzLW1l7TrM_O8k5ZwY6JEXFL78JQJ_TqJGmmUQ8QWEzIwdKsSUnbOBez0GnxL7Gn4CxEFrlEoHOSxSBEqwekxiXZNz3SZgBjI03LHvXhVJ7TN97oHugd5DxH6IQdOVdb9AchK3O9a4BisJYVQ&key=AIzaSyAUgrWhyX0f47YufM4X5jQ1kKPALzB-Koc",
          "user_plans": [],
          "meals": {
            "breakfast": {
              "name": "Orange Hotel Breakfast",
              "name_en": "",
              "cost": 10,
              "cuisine": "Chinese",
              "signature_dishes": "",
              "image": "https://store.is.autonavi.com/showpic/bd080c44d60ca24208e8c99846eaf287",
              "time": {
                "start": "08:00",
                "end": "09:00"
              },
              "links": {}
            },
            "lunch": {
              "name": "Tsinghua University Canteen (Qingfen Garden)",
              "name_en": "",
              "cost": 10,
              "cuisine": "Chinese Canteen",
              "signature_dishes": "",
              "image": "https://aos-comment.amap.com/B0KA2RGYI9/comment/content_media_external_file_209268_ss__1766467982041_80817407.jpg",
              "time": {
                "start": "12:00",
                "end": "13:30"
              },
              "links": {}
            },
            "dinner": {
              "name": "Local Restaurant near Rental Apartment",
              "name_en": "",
              "cost": 30,
              "cuisine": "Chinese",
              "signature_dishes": "",
              "image": "http://store.is.autonavi.com/showpic/529e8f649efdf5923cbb5a4741eb8bdb",
              "time": {
                "start": "18:30",
                "end": "20:00"
              },
              "links": {}
            }
          },
          "attractions": [
            {
              "name": "Tsinghua University Campus (Ê∏ÖÂçéÂ§ßÂ≠¶)",
              "name_en": "",
              "location": "Haidian District, North Beijing",
              "type": "University Campus",
              "cost": 0,
              "cost_eur": 0,
              "opening_hours": "",
              "recommended_duration": "",
              "image": "http://store.is.autonavi.com/showpic/9f15fea24f67cdf044fd9e566fa582da",
              "highlights": [],
              "time": {
                "start": "10:00",
                "end": "12:00"
              },
              "links": {}
            },
            {
              "name": "Peking University Campus (Âåó‰∫¨Â§ßÂ≠¶)",
              "name_en": "",
              "location": "Haidian District, adjacent to Tsinghua",
              "type": "University Campus",
              "cost": 0,
              "cost_eur": 0,
              "opening_hours": "",
              "recommended_duration": "",
              "image": "http://store.is.autonavi.com/showpic/8595dd602764994cedf995659cf8db73",
              "highlights": [],
              "time": {
                "start": "12:30",
                "end": "14:30"
              },
              "links": {}
            },
            {
              "name": "Nearby Life Support Facilities",
              "name_en": "",
              "location": "Wudaokou and university neighborhood",
              "type": "Neighborhood Exploration",
              "cost": 0,
              "cost_eur": 0,
              "opening_hours": "",
              "recommended_duration": "",
              "image": "http://store.is.autonavi.com/showpic/6eb8c764a09bbf615827eec8304762d1",
              "highlights": [],
              "time": {
                "start": "15:00",
                "end": "17:00"
              },
              "links": {}
            }
          ],
          "entertainment": [],
          "accommodation": {
            "name": "Short-term Rental Apartment (TBD)",
            "name_cn": "",
            "type": "Vacation Rental / Short-Term Apartment",
            "location": "Near Tsinghua University/Peking University, Haidian District, Beijing",
            "cost": 35,
            "stars": 3,
            "time": {
              "start": "15:00",
              "end": "16:00"
            },
            "links": {},
            "image": "https://aos-comment.amap.com/B0FFF007D1/comment/content_media_external_file_6735_1764542758644_71064924.jpg"
          },
          "transportation": null,
          "budget": {
            "meals": 50,
            "attractions": 0,
            "entertainment": 0,
            "accommodation": 35,
            "total": 85
          }
        },
        {
          "day": 10,
          "date": "2026-02-24",
          "location": "Beijing",
          "cover": "https://maps.googleapis.com/maps/api/place/photo?maxwidth=800&photoreference=AcnlKN3zSNFXjfNQ9B9ecx22tMCa1Eb_pRcOGEUeqlKo4iWV_dEgr1PrK_8i7epN0VAsNf2Q71BYA7LHSP3KBbYzkM06iy3y5Zf8zBzjlzv6xlEoTB8MkVrCqQPYB-VFtA_Gg1Q1YG8HwApDMFIdvgIzo7HOwiQyze2qjfS17M0kXNFoMGzAsQTNxxcwCQSHucaG_QSQPJ2-18rPe5YrWp2NAUUyt39aVD9GQyYGVEYujpc729pgOzOi6WjjaJjGN-irkM6nPioSz9rmTiu_iqmTqasTXTG2lNzLW1l7TrM_O8k5ZwY6JEXFL78JQJ_TqJGmmUQ8QWEzIwdKsSUnbOBez0GnxL7Gn4CxEFrlEoHOSxSBEqwekxiXZNz3SZgBjI03LHvXhVJ7TN97oHugd5DxH6IQdOVdb9AchK3O9a4BisJYVQ&key=AIzaSyAUgrWhyX0f47YufM4X5jQ1kKPALzB-Koc",
          "user_plans": [],
          "meals": {
            "breakfast": {
              "name": "Local Breakfast near Apartment",
              "name_en": "",
              "cost": 8,
              "cuisine": "Beijing Breakfast",
              "signature_dishes": "",
              "image": "http://store.is.autonavi.com/showpic/529e8f649efdf5923cbb5a4741eb8bdb",
              "time": {
                "start": "08:00",
                "end": "09:00"
              },
              "links": {}
            },
            "lunch": {
              "name": "University Area Restaurant",
              "name_en": "",
              "cost": 20,
              "cuisine": "Chinese",
              "signature_dishes": "",
              "image": "https://store.is.autonavi.com/showpic/0ae514afccb37a95f5c15321c3dd3680",
              "time": {
                "start": "12:00",
                "end": "13:30"
              },
              "links": {}
            },
            "dinner": {
              "name": "Korean Restaurant in Wudaokou",
              "name_en": "",
              "cost": 35,
              "cuisine": "Korean",
              "signature_dishes": "",
              "image": "https://aos-comment.amap.com/B0G1RX3R03/comment/95de31668257ce343de54e6614a8e4fb_2048_2048_80.jpg",
              "time": {
                "start": "18:30",
                "end": "20:00"
              },
              "links": {}
            }
          },
          "attractions": [
            {
              "name": "University Neighborhood Exploration",
              "name_en": "",
              "location": "Haidian District around rental apartment",
              "type": "Lifestyle Setup",
              "cost": 0,
              "cost_eur": 0,
              "opening_hours": "",
              "recommended_duration": "",
              "image": "http://store.is.autonavi.com/showpic/1e949a1ad50c5d43c7aa3c26302cde99",
              "highlights": [],
              "time": {
                "start": "10:00",
                "end": "12:00"
              },
              "links": {}
            }
          ],
          "entertainment": [
            {
              "name": "Beijing Dance Academy (Âåó‰∫¨ËàûËπàÂ≠¶Èô¢) - Registration/Tour",
              "name_en": "",
              "type": "Dance Studio",
              "cost": 0,
              "duration": "",
              "note": "",
              "image": "https://aos-comment.amap.com/B000A88EEF/comment/content_media_external_images_media_100000127_1734592753806_82345367.jpg",
              "time": "10:00",
              "links": {}
            },
            {
              "name": "Bridge Coffee (Ê°•ÂíñÂï°)",
              "name_en": "",
              "type": "Coffee Shop",
              "cost": 30,
              "duration": "",
              "note": "",
              "image": "https://aos-comment.amap.com/B0LAALOJK1/comment/content_media_external_file_10950_ss__1745826557514_16460895.jpg",
              "time": "15:00",
              "links": {}
            }
          ],
          "accommodation": {
            "name": "Short-term Rental Apartment (TBD)",
            "name_cn": "",
            "type": "Vacation Rental / Short-Term Apartment",
            "location": "Near Tsinghua University/Peking University, Haidian District, Beijing",
            "cost": 35,
            "stars": 3,
            "time": {
              "start": "15:00",
              "end": "16:00"
            },
            "links": {},
            "image": "https://aos-comment.amap.com/B0FFF007D1/comment/content_media_external_file_6735_1764542758644_71064924.jpg"
          },
          "transportation": null,
          "budget": {
            "meals": 63,
            "attractions": 0,
            "entertainment": 30,
            "accommodation": 35,
            "total": 128
          }
        },
        {
          "day": 11,
          "date": "2026-02-25",
          "location": "Beijing",
          "cover": "https://maps.googleapis.com/maps/api/place/photo?maxwidth=800&photoreference=AcnlKN3zSNFXjfNQ9B9ecx22tMCa1Eb_pRcOGEUeqlKo4iWV_dEgr1PrK_8i7epN0VAsNf2Q71BYA7LHSP3KBbYzkM06iy3y5Zf8zBzjlzv6xlEoTB8MkVrCqQPYB-VFtA_Gg1Q1YG8HwApDMFIdvgIzo7HOwiQyze2qjfS17M0kXNFoMGzAsQTNxxcwCQSHucaG_QSQPJ2-18rPe5YrWp2NAUUyt39aVD9GQyYGVEYujpc729pgOzOi6WjjaJjGN-irkM6nPioSz9rmTiu_iqmTqasTXTG2lNzLW1l7TrM_O8k5ZwY6JEXFL78JQJ_TqJGmmUQ8QWEzIwdKsSUnbOBez0GnxL7Gn4CxEFrlEoHOSxSBEqwekxiXZNz3SZgBjI03LHvXhVJ7TN97oHugd5DxH6IQdOVdb9AchK3O9a4BisJYVQ&key=AIzaSyAUgrWhyX0f47YufM4X5jQ1kKPALzB-Koc",
          "user_plans": [],
          "meals": {
            "breakfast": {
              "name": "Local Breakfast near Apartment",
              "name_en": "",
              "cost": 8,
              "cuisine": "Beijing Breakfast",
              "signature_dishes": "",
              "image": "http://store.is.autonavi.com/showpic/529e8f649efdf5923cbb5a4741eb8bdb",
              "time": {
                "start": "08:00",
                "end": "09:00"
              },
              "links": {}
            },
            "lunch": {
              "name": "Lunch near Apartment",
              "name_en": "",
              "cost": 15,
              "cuisine": "Chinese",
              "signature_dishes": "",
              "image": "https://aos-comment.amap.com/B0JKJSHGWE/comment/F2024E61_AC64_4CFC_A999_7530AF71E874_L0_001_1500_200_1768879287251_10632386.jpg",
              "time": {
                "start": "12:00",
                "end": "13:30"
              },
              "links": {}
            },
            "dinner": {
              "name": "University Area Restaurant",
              "name_en": "",
              "cost": 30,
              "cuisine": "Chinese/International",
              "signature_dishes": "",
              "image": "https://store.is.autonavi.com/showpic/0ae514afccb37a95f5c15321c3dd3680",
              "time": {
                "start": "18:30",
                "end": "20:00"
              },
              "links": {}
            }
          },
          "attractions": [],
          "entertainment": [
            {
              "name": "June Garden Coffee (ÂÖ≠ÊúàËä±Âõ≠ÂíñÂï°È¶Ü)",
              "name_en": "",
              "type": "Coffee Shop",
              "cost": 40,
              "duration": "",
              "note": "",
              "image": "http://store.is.autonavi.com/showpic/2942466613cd7d7cd17215ae4d3ebc94",
              "time": "17:00",
              "links": {}
            }
          ],
          "accommodation": {
            "name": "Short-term Rental Apartment (TBD)",
            "name_cn": "",
            "type": "Vacation Rental / Short-Term Apartment",
            "location": "Near Tsinghua University/Peking University, Haidian District, Beijing",
            "cost": 35,
            "stars": 3,
            "time": {
              "start": "15:00",
              "end": "16:00"
            },
            "links": {},
            "image": "https://aos-comment.amap.com/B0FFF007D1/comment/content_media_external_file_6735_1764542758644_71064924.jpg"
          },
          "transportation": null,
          "budget": {
            "meals": 53,
            "attractions": 0,
            "entertainment": 40,
            "accommodation": 35,
            "total": 128
          }
        },
        {
          "day": 12,
          "date": "2026-02-26",
          "location": "Beijing",
          "cover": "https://maps.googleapis.com/maps/api/place/photo?maxwidth=800&photoreference=AcnlKN3zSNFXjfNQ9B9ecx22tMCa1Eb_pRcOGEUeqlKo4iWV_dEgr1PrK_8i7epN0VAsNf2Q71BYA7LHSP3KBbYzkM06iy3y5Zf8zBzjlzv6xlEoTB8MkVrCqQPYB-VFtA_Gg1Q1YG8HwApDMFIdvgIzo7HOwiQyze2qjfS17M0kXNFoMGzAsQTNxxcwCQSHucaG_QSQPJ2-18rPe5YrWp2NAUUyt39aVD9GQyYGVEYujpc729pgOzOi6WjjaJjGN-irkM6nPioSz9rmTiu_iqmTqasTXTG2lNzLW1l7TrM_O8k5ZwY6JEXFL78JQJ_TqJGmmUQ8QWEzIwdKsSUnbOBez0GnxL7Gn4CxEFrlEoHOSxSBEqwekxiXZNz3SZgBjI03LHvXhVJ7TN97oHugd5DxH6IQdOVdb9AchK3O9a4BisJYVQ&key=AIzaSyAUgrWhyX0f47YufM4X5jQ1kKPALzB-Koc",
          "user_plans": [],
          "meals": {
            "breakfast": {
              "name": "Local Breakfast near Apartment",
              "name_en": "",
              "cost": 8,
              "cuisine": "Beijing Breakfast",
              "signature_dishes": "",
              "image": "http://store.is.autonavi.com/showpic/529e8f649efdf5923cbb5a4741eb8bdb",
              "time": {
                "start": "08:00",
                "end": "09:00"
              },
              "links": {}
            },
            "lunch": {
              "name": "Lunch near Apartment",
              "name_en": "",
              "cost": 15,
              "cuisine": "Chinese",
              "signature_dishes": "",
              "image": "https://aos-comment.amap.com/B0JKJSHGWE/comment/F2024E61_AC64_4CFC_A999_7530AF71E874_L0_001_1500_200_1768879287251_10632386.jpg",
              "time": {
                "start": "12:00",
                "end": "13:30"
              },
              "links": {}
            },
            "dinner": {
              "name": "Hotpot Restaurant",
              "name_en": "",
              "cost": 40,
              "cuisine": "Beijing Hotpot",
              "signature_dishes": "",
              "image": "https://aos-comment.amap.com/B00156TM2D/comment/BA2CB948_E0F4_4753_9E56_E68670173EA1_L0_001_1179_117_1769704581022_70613259.jpg",
              "time": {
                "start": "18:30",
                "end": "20:00"
              },
              "links": {}
            }
          },
          "attractions": [],
          "entertainment": [
            {
              "name": "Metalhands Coffee",
              "name_en": "",
              "type": "Coffee Shop",
              "cost": 35,
              "duration": "",
              "note": "",
              "image": "https://aos-comment.amap.com/B0FFI11AFK/comment/97d9f08fc4636bfbf443ce128ec17b71_2048_2048_80.jpg",
              "time": "17:30",
              "links": {}
            }
          ],
          "accommodation": {
            "name": "Short-term Rental Apartment (TBD)",
            "name_cn": "",
            "type": "Vacation Rental / Short-Term Apartment",
            "location": "Near Tsinghua University/Peking University, Haidian District, Beijing",
            "cost": 35,
            "stars": 3,
            "time": {
              "start": "15:00",
              "end": "16:00"
            },
            "links": {},
            "image": "https://aos-comment.amap.com/B0FFF007D1/comment/content_media_external_file_6735_1764542758644_71064924.jpg"
          },
          "transportation": null,
          "budget": {
            "meals": 63,
            "attractions": 0,
            "entertainment": 35,
            "accommodation": 35,
            "total": 133
          }
        },
        {
          "day": 13,
          "date": "2026-02-27",
          "location": "Beijing",
          "cover": "https://maps.googleapis.com/maps/api/place/photo?maxwidth=800&photoreference=AcnlKN3zSNFXjfNQ9B9ecx22tMCa1Eb_pRcOGEUeqlKo4iWV_dEgr1PrK_8i7epN0VAsNf2Q71BYA7LHSP3KBbYzkM06iy3y5Zf8zBzjlzv6xlEoTB8MkVrCqQPYB-VFtA_Gg1Q1YG8HwApDMFIdvgIzo7HOwiQyze2qjfS17M0kXNFoMGzAsQTNxxcwCQSHucaG_QSQPJ2-18rPe5YrWp2NAUUyt39aVD9GQyYGVEYujpc729pgOzOi6WjjaJjGN-irkM6nPioSz9rmTiu_iqmTqasTXTG2lNzLW1l7TrM_O8k5ZwY6JEXFL78JQJ_TqJGmmUQ8QWEzIwdKsSUnbOBez0GnxL7Gn4CxEFrlEoHOSxSBEqwekxiXZNz3SZgBjI03LHvXhVJ7TN97oHugd5DxH6IQdOVdb9AchK3O9a4BisJYVQ&key=AIzaSyAUgrWhyX0f47YufM4X5jQ1kKPALzB-Koc",
          "user_plans": [],
          "meals": {
            "breakfast": {
              "name": "Breakfast near Apartment",
              "name_en": "",
              "cost": 10,
              "cuisine": "Chinese",
              "signature_dishes": "",
              "image": "https://aos-comment.amap.com/B0G0BN0VAB/comment/008ADF8C_133A_4556_AC16_782CDC32C074_L0_001_1280_1706_1742836529479_59249532.jpg",
              "time": {
                "start": "08:00",
                "end": "09:00"
              },
              "links": {}
            },
            "lunch": {
              "name": "Fangzhuanchang 69 Zhajiangmian (Nanluoguxiang Branch)",
              "name_en": "",
              "cost": 20,
              "cuisine": "Beijing Noodles",
              "signature_dishes": "",
              "image": "http://store.is.autonavi.com/showpic/5fb102bc49281e9313439c6eba119ca2?type=7",
              "time": {
                "start": "12:00",
                "end": "13:30"
              },
              "links": {}
            },
            "dinner": {
              "name": "Beimen Shuanrou (Shichahai Branch)",
              "name_en": "",
              "cost": 45,
              "cuisine": "Beijing Copper Pot Hotpot",
              "signature_dishes": "",
              "image": "http://store.is.autonavi.com/showpic/d96d9315c281e5357098cf03b17ad9b5",
              "time": {
                "start": "18:30",
                "end": "20:00"
              },
              "links": {}
            }
          },
          "attractions": [
            {
              "name": "Forbidden City (ÊïÖÂÆ´ÂçöÁâ©Èô¢)",
              "name_en": "",
              "location": "Jingshan Front Street 4, Dongcheng District",
              "type": "Historical Palace Complex",
              "cost": 60,
              "cost_eur": 0,
              "opening_hours": "",
              "recommended_duration": "",
              "image": "http://store.is.autonavi.com/showpic/2f968490d105bb2741e17f90b85c6b79",
              "highlights": [],
              "time": {
                "start": "10:00",
                "end": "12:00"
              },
              "links": {}
            },
            {
              "name": "Nanluoguxiang (ÂçóÈî£ÈºìÂ∑∑) OR 798 Art District (798Ëâ∫ÊúØÂå∫)",
              "name_en": "",
              "location": "Nanluoguxiang: Dongcheng District (Metro Line 6/8). 798: Jiuxianqiao Road 4, Chaoyang District",
              "type": "Cultural District",
              "cost": 0,
              "cost_eur": 0,
              "opening_hours": "",
              "recommended_duration": "",
              "image": "https://store.is.autonavi.com/showpic/73f70896c1dc1b1784ac079f7a677d78",
              "highlights": [],
              "time": {
                "start": "12:30",
                "end": "14:30"
              },
              "links": {}
            }
          ],
          "entertainment": [
            {
              "name": "Indoor Couple Photography Session",
              "name_en": "",
              "type": "Photography",
              "cost": 600,
              "duration": "",
              "note": "",
              "image": "https://store.is.autonavi.com/showpic/832009e0f320afb3850158d39e2841af",
              "time": "14:00",
              "links": {}
            }
          ],
          "accommodation": {
            "name": "Short-term Rental Apartment (TBD)",
            "name_cn": "",
            "type": "Vacation Rental / Short-Term Apartment",
            "location": "Near Tsinghua University/Peking University, Haidian District, Beijing",
            "cost": 35,
            "stars": 3,
            "time": {
              "start": "15:00",
              "end": "16:00"
            },
            "links": {},
            "image": "https://aos-comment.amap.com/B0FFF007D1/comment/content_media_external_file_6735_1764542758644_71064924.jpg"
          },
          "transportation": null,
          "budget": {
            "meals": 75,
            "attractions": 60,
            "entertainment": 600,
            "accommodation": 35,
            "total": 770
          }
        },
        {
          "day": 14,
          "date": "2026-02-28",
          "location": "Beijing",
          "cover": "https://maps.googleapis.com/maps/api/place/photo?maxwidth=800&photoreference=AcnlKN3zSNFXjfNQ9B9ecx22tMCa1Eb_pRcOGEUeqlKo4iWV_dEgr1PrK_8i7epN0VAsNf2Q71BYA7LHSP3KBbYzkM06iy3y5Zf8zBzjlzv6xlEoTB8MkVrCqQPYB-VFtA_Gg1Q1YG8HwApDMFIdvgIzo7HOwiQyze2qjfS17M0kXNFoMGzAsQTNxxcwCQSHucaG_QSQPJ2-18rPe5YrWp2NAUUyt39aVD9GQyYGVEYujpc729pgOzOi6WjjaJjGN-irkM6nPioSz9rmTiu_iqmTqasTXTG2lNzLW1l7TrM_O8k5ZwY6JEXFL78JQJ_TqJGmmUQ8QWEzIwdKsSUnbOBez0GnxL7Gn4CxEFrlEoHOSxSBEqwekxiXZNz3SZgBjI03LHvXhVJ7TN97oHugd5DxH6IQdOVdb9AchK3O9a4BisJYVQ&key=AIzaSyAUgrWhyX0f47YufM4X5jQ1kKPALzB-Koc",
          "user_plans": [],
          "meals": {
            "breakfast": {
              "name": "Specialty Coffee Shop",
              "name_en": "",
              "cost": 25,
              "cuisine": "Western/Cafe",
              "signature_dishes": "",
              "image": "",
              "time": {
                "start": "08:00",
                "end": "09:00"
              },
              "links": {}
            },
            "lunch": {
              "name": "Trendy Restaurant in Sanlitun",
              "name_en": "",
              "cost": 35,
              "cuisine": "Fusion/International",
              "signature_dishes": "",
              "image": "http://store.is.autonavi.com/showpic/1e5ee1045de01d082d014157cd178d70",
              "time": {
                "start": "12:00",
                "end": "13:30"
              },
              "links": {}
            },
            "dinner": {
              "name": "Restaurant in 798 Art District",
              "name_en": "",
              "cost": 40,
              "cuisine": "International/Fusion",
              "signature_dishes": "",
              "image": "https://aos-comment.amap.com/B0KBLMWJ9Y/comment/content_media_external_file_184874_ss__1754717904442_14194937.jpg",
              "time": {
                "start": "18:30",
                "end": "20:00"
              },
              "links": {}
            }
          },
          "attractions": [
            {
              "name": "Coffee Shops & Cute Shops",
              "name_en": "",
              "location": "Various neighborhoods - Sanlitun, Gulou, Wudaokou",
              "type": "Lifestyle Exploration",
              "cost": 0,
              "cost_eur": 0,
              "opening_hours": "",
              "recommended_duration": "",
              "image": "https://aos-comment.amap.com/B0FFHRCNLD/comment/c53a9f3eceefe3cb2c3fb3fff13e2b15_2048_2048_80.jpg",
              "highlights": [],
              "time": {
                "start": "10:00",
                "end": "12:00"
              },
              "links": {}
            },
            {
              "name": "Shopping for Fashion Items",
              "name_en": "",
              "location": "Sanlitun Taikoo Li, Xidan, or Wangfujing",
              "type": "Shopping",
              "cost": 0,
              "cost_eur": 0,
              "opening_hours": "",
              "recommended_duration": "",
              "image": "",
              "highlights": [],
              "time": {
                "start": "12:30",
                "end": "14:30"
              },
              "links": {}
            }
          ],
          "entertainment": [
            {
              "name": "TOP TOY (Wangfujing apm)",
              "name_en": "",
              "type": "Toy Store",
              "cost": 150,
              "duration": "",
              "note": "",
              "image": "https://store.is.autonavi.com/showpic/81419ab1214fb5e63d560b85999e17a2",
              "time": "11:00",
              "links": {}
            },
            {
              "name": "FAO Schwarz or Hamleys",
              "name_en": "",
              "type": "Toy Store",
              "cost": 200,
              "duration": "",
              "note": "",
              "image": "https://aos-comment.amap.com/B0FFI9J62U/comment/1351d95271c77863a5cb0716499e28fe_2048_2048_80.jpg",
              "time": "13:00",
              "links": {}
            },
            {
              "name": "Page One Bookstore",
              "name_en": "",
              "type": "English Bookstore",
              "cost": 100,
              "duration": "",
              "note": "",
              "image": "http://aos-cdn-image.amap.com/sns/ugccomment/c01077ca-1103-40e8-b5bf-99c6b4062617.jpg",
              "time": "15:00",
              "links": {}
            }
          ],
          "accommodation": {
            "name": "Short-term Rental Apartment (TBD)",
            "name_cn": "",
            "type": "Vacation Rental / Short-Term Apartment",
            "location": "Near Tsinghua University/Peking University, Haidian District, Beijing",
            "cost": 35,
            "stars": 3,
            "time": {
              "start": "15:00",
              "end": "16:00"
            },
            "links": {},
            "image": "https://aos-comment.amap.com/B0FFF007D1/comment/content_media_external_file_6735_1764542758644_71064924.jpg"
          },
          "transportation": null,
          "budget": {
            "meals": 100,
            "attractions": 0,
            "entertainment": 450,
            "accommodation": 35,
            "total": 585
          }
        },
        {
          "day": 15,
          "date": "2026-03-01",
          "location": "Beijing",
          "cover": "https://maps.googleapis.com/maps/api/place/photo?maxwidth=800&photoreference=AcnlKN3zSNFXjfNQ9B9ecx22tMCa1Eb_pRcOGEUeqlKo4iWV_dEgr1PrK_8i7epN0VAsNf2Q71BYA7LHSP3KBbYzkM06iy3y5Zf8zBzjlzv6xlEoTB8MkVrCqQPYB-VFtA_Gg1Q1YG8HwApDMFIdvgIzo7HOwiQyze2qjfS17M0kXNFoMGzAsQTNxxcwCQSHucaG_QSQPJ2-18rPe5YrWp2NAUUyt39aVD9GQyYGVEYujpc729pgOzOi6WjjaJjGN-irkM6nPioSz9rmTiu_iqmTqasTXTG2lNzLW1l7TrM_O8k5ZwY6JEXFL78JQJ_TqJGmmUQ8QWEzIwdKsSUnbOBez0GnxL7Gn4CxEFrlEoHOSxSBEqwekxiXZNz3SZgBjI03LHvXhVJ7TN97oHugd5DxH6IQdOVdb9AchK3O9a4BisJYVQ&key=AIzaSyAUgrWhyX0f47YufM4X5jQ1kKPALzB-Koc",
          "user_plans": [],
          "meals": {
            "breakfast": {
              "name": "Local Breakfast near Apartment",
              "name_en": "",
              "cost": 8,
              "cuisine": "Beijing Breakfast",
              "signature_dishes": "",
              "image": "http://store.is.autonavi.com/showpic/529e8f649efdf5923cbb5a4741eb8bdb",
              "time": {
                "start": "08:00",
                "end": "09:00"
              },
              "links": {}
            },
            "lunch": {
              "name": "Beijing Roast Duck Restaurant",
              "name_en": "",
              "cost": 50,
              "cuisine": "Beijing Duck",
              "signature_dishes": "",
              "image": "https://aos-comment.amap.com/B0FFKOWV7R/headerImg/f22aa5087b19e89ef652c06374b59ebd_2048_2048_80.jpg",
              "time": {
                "start": "12:00",
                "end": "13:30"
              },
              "links": {}
            },
            "dinner": {
              "name": "University Area Restaurant",
              "name_en": "",
              "cost": 30,
              "cuisine": "Chinese/International",
              "signature_dishes": "",
              "image": "https://store.is.autonavi.com/showpic/0ae514afccb37a95f5c15321c3dd3680",
              "time": {
                "start": "18:30",
                "end": "20:00"
              },
              "links": {}
            }
          },
          "attractions": [
            {
              "name": "Free Day - Flexible Planning",
              "name_en": "",
              "location": "Various options",
              "type": "Flexible",
              "cost": 0,
              "cost_eur": 0,
              "opening_hours": "",
              "recommended_duration": "",
              "image": "http://store.is.autonavi.com/showpic/62fa0c285661ff2ad61bb214c61c1ee1",
              "highlights": [],
              "time": {
                "start": "10:00",
                "end": "12:00"
              },
              "links": {}
            }
          ],
          "entertainment": [
            {
              "name": "Foreign Languages Bookstore",
              "name_en": "",
              "type": "English Bookstore",
              "cost": 80,
              "duration": "",
              "note": "",
              "image": "http://store.is.autonavi.com/showpic/1e37636e3c0a2ad30dbe138a71027f96",
              "time": "11:00",
              "links": {}
            },
            {
              "name": "Sanlian Taofen Bookstore",
              "name_en": "",
              "type": "Bookstore/Cafe",
              "cost": 60,
              "duration": "",
              "note": "",
              "image": "https://store.is.autonavi.com/showpic/3fc981e61a61894f188ff1880755b492",
              "time": "14:00",
              "links": {}
            }
          ],
          "accommodation": {
            "name": "Short-term Rental Apartment (TBD)",
            "name_cn": "",
            "type": "Vacation Rental / Short-Term Apartment",
            "location": "Near Tsinghua University/Peking University, Haidian District, Beijing",
            "cost": 35,
            "stars": 3,
            "time": {
              "start": "15:00",
              "end": "16:00"
            },
            "links": {},
            "image": "https://aos-comment.amap.com/B0FFF007D1/comment/content_media_external_file_6735_1764542758644_71064924.jpg"
          },
          "transportation": null,
          "budget": {
            "meals": 88,
            "attractions": 0,
            "entertainment": 140,
            "accommodation": 35,
            "total": 263
          }
        },
        {
          "day": 16,
          "date": "2026-03-02",
          "location": "Beijing",
          "cover": "https://maps.googleapis.com/maps/api/place/photo?maxwidth=800&photoreference=AcnlKN3zSNFXjfNQ9B9ecx22tMCa1Eb_pRcOGEUeqlKo4iWV_dEgr1PrK_8i7epN0VAsNf2Q71BYA7LHSP3KBbYzkM06iy3y5Zf8zBzjlzv6xlEoTB8MkVrCqQPYB-VFtA_Gg1Q1YG8HwApDMFIdvgIzo7HOwiQyze2qjfS17M0kXNFoMGzAsQTNxxcwCQSHucaG_QSQPJ2-18rPe5YrWp2NAUUyt39aVD9GQyYGVEYujpc729pgOzOi6WjjaJjGN-irkM6nPioSz9rmTiu_iqmTqasTXTG2lNzLW1l7TrM_O8k5ZwY6JEXFL78JQJ_TqJGmmUQ8QWEzIwdKsSUnbOBez0GnxL7Gn4CxEFrlEoHOSxSBEqwekxiXZNz3SZgBjI03LHvXhVJ7TN97oHugd5DxH6IQdOVdb9AchK3O9a4BisJYVQ&key=AIzaSyAUgrWhyX0f47YufM4X5jQ1kKPALzB-Koc",
          "user_plans": [],
          "meals": {
            "breakfast": {
              "name": "Breakfast near Apartment or Train Station",
              "name_en": "",
              "cost": 10,
              "cuisine": "Chinese",
              "signature_dishes": "",
              "image": "",
              "time": {
                "start": "08:00",
                "end": "09:00"
              },
              "links": {}
            },
            "lunch": {
              "name": "Tianjin Specialty Restaurant (if day trip)",
              "name_en": "",
              "cost": 30,
              "cuisine": "Tianjin Cuisine",
              "signature_dishes": "",
              "image": "http://store.is.autonavi.com/showpic/7c5d7db7c525be65afa9d2256b93f932",
              "time": {
                "start": "12:00",
                "end": "13:30"
              },
              "links": {}
            },
            "dinner": {
              "name": "Return to Beijing - Local Restaurant",
              "name_en": "",
              "cost": 30,
              "cuisine": "Chinese",
              "signature_dishes": "",
              "image": "https://aos-comment.amap.com/comment/content_service__1768988254345_67541298_1768988277396_37521982.jpg",
              "time": {
                "start": "18:30",
                "end": "20:00"
              },
              "links": {}
            }
          },
          "attractions": [
            {
              "name": "Tianjin Day Trip - Optional",
              "name_en": "",
              "location": "Tianjin city, 30-min high-speed train from Beijing",
              "type": "Day Trip",
              "cost": 54,
              "cost_eur": 0,
              "opening_hours": "",
              "recommended_duration": "",
              "image": "https://store.is.autonavi.com/showpic/adf28530e406a969f37dada2a7622e17",
              "highlights": [],
              "time": {
                "start": "10:00",
                "end": "12:00"
              },
              "links": {}
            },
            {
              "name": "Alternative: Beijing Free Day",
              "name_en": "",
              "location": "Beijing",
              "type": "Flexible",
              "cost": 0,
              "cost_eur": 0,
              "opening_hours": "",
              "recommended_duration": "",
              "image": "http://store.is.autonavi.com/showpic/2bc3a29e7c9d7711658ddbc4c70b2aae",
              "highlights": [],
              "time": {
                "start": "12:30",
                "end": "14:30"
              },
              "links": {}
            }
          ],
          "entertainment": [],
          "accommodation": {
            "name": "Short-term Rental Apartment (TBD)",
            "name_cn": "",
            "type": "Vacation Rental / Short-Term Apartment",
            "location": "Near Tsinghua University/Peking University, Haidian District, Beijing",
            "cost": 35,
            "stars": 3,
            "time": {
              "start": "15:00",
              "end": "16:00"
            },
            "links": {},
            "image": "https://aos-comment.amap.com/B0FFF007D1/comment/content_media_external_file_6735_1764542758644_71064924.jpg"
          },
          "transportation": null,
          "budget": {
            "meals": 70,
            "attractions": 54,
            "entertainment": 0,
            "accommodation": 35,
            "total": 159
          }
        },
        {
          "day": 17,
          "date": "2026-03-03",
          "location": "Beijing",
          "cover": "https://maps.googleapis.com/maps/api/place/photo?maxwidth=800&photoreference=AcnlKN3zSNFXjfNQ9B9ecx22tMCa1Eb_pRcOGEUeqlKo4iWV_dEgr1PrK_8i7epN0VAsNf2Q71BYA7LHSP3KBbYzkM06iy3y5Zf8zBzjlzv6xlEoTB8MkVrCqQPYB-VFtA_Gg1Q1YG8HwApDMFIdvgIzo7HOwiQyze2qjfS17M0kXNFoMGzAsQTNxxcwCQSHucaG_QSQPJ2-18rPe5YrWp2NAUUyt39aVD9GQyYGVEYujpc729pgOzOi6WjjaJjGN-irkM6nPioSz9rmTiu_iqmTqasTXTG2lNzLW1l7TrM_O8k5ZwY6JEXFL78JQJ_TqJGmmUQ8QWEzIwdKsSUnbOBez0GnxL7Gn4CxEFrlEoHOSxSBEqwekxiXZNz3SZgBjI03LHvXhVJ7TN97oHugd5DxH6IQdOVdb9AchK3O9a4BisJYVQ&key=AIzaSyAUgrWhyX0f47YufM4X5jQ1kKPALzB-Koc",
          "user_plans": [],
          "meals": {
            "breakfast": {
              "name": "Local Breakfast near Apartment",
              "name_en": "",
              "cost": 8,
              "cuisine": "Beijing Breakfast",
              "signature_dishes": "",
              "image": "http://store.is.autonavi.com/showpic/529e8f649efdf5923cbb5a4741eb8bdb",
              "time": {
                "start": "08:00",
                "end": "09:00"
              },
              "links": {}
            },
            "lunch": {
              "name": "Lunch near Apartment",
              "name_en": "",
              "cost": 15,
              "cuisine": "Chinese",
              "signature_dishes": "",
              "image": "https://aos-comment.amap.com/B0JKJSHGWE/comment/F2024E61_AC64_4CFC_A999_7530AF71E874_L0_001_1500_200_1768879287251_10632386.jpg",
              "time": {
                "start": "12:00",
                "end": "13:30"
              },
              "links": {}
            },
            "dinner": {
              "name": "Japanese Restaurant in Wudaokou",
              "name_en": "",
              "cost": 40,
              "cuisine": "Japanese",
              "signature_dishes": "",
              "image": "https://aos-comment.amap.com/B0I3Y5KHNM/comment/BE38D953_99D4_4372_9821_F7D8FD7D4677_L0_001_1500_2000_1739235228455_23067639.jpg",
              "time": {
                "start": "18:30",
                "end": "20:00"
              },
              "links": {}
            }
          },
          "attractions": [],
          "entertainment": [
            {
              "name": "University Area Coffee Crawl",
              "name_en": "",
              "type": "Coffee Shop",
              "cost": 50,
              "duration": "",
              "note": "",
              "image": "https://store.is.autonavi.com/showpic/42680bad882e102e098d243a3e2570bf",
              "time": "17:00",
              "links": {}
            }
          ],
          "accommodation": {
            "name": "Short-term Rental Apartment (TBD)",
            "name_cn": "",
            "type": "Vacation Rental / Short-Term Apartment",
            "location": "Near Tsinghua University/Peking University, Haidian District, Beijing",
            "cost": 35,
            "stars": 3,
            "time": {
              "start": "15:00",
              "end": "16:00"
            },
            "links": {},
            "image": "https://aos-comment.amap.com/B0FFF007D1/comment/content_media_external_file_6735_1764542758644_71064924.jpg"
          },
          "transportation": null,
          "budget": {
            "meals": 63,
            "attractions": 0,
            "entertainment": 50,
            "accommodation": 35,
            "total": 148
          }
        },
        {
          "day": 18,
          "date": "2026-03-04",
          "location": "Beijing",
          "cover": "https://maps.googleapis.com/maps/api/place/photo?maxwidth=800&photoreference=AcnlKN3zSNFXjfNQ9B9ecx22tMCa1Eb_pRcOGEUeqlKo4iWV_dEgr1PrK_8i7epN0VAsNf2Q71BYA7LHSP3KBbYzkM06iy3y5Zf8zBzjlzv6xlEoTB8MkVrCqQPYB-VFtA_Gg1Q1YG8HwApDMFIdvgIzo7HOwiQyze2qjfS17M0kXNFoMGzAsQTNxxcwCQSHucaG_QSQPJ2-18rPe5YrWp2NAUUyt39aVD9GQyYGVEYujpc729pgOzOi6WjjaJjGN-irkM6nPioSz9rmTiu_iqmTqasTXTG2lNzLW1l7TrM_O8k5ZwY6JEXFL78JQJ_TqJGmmUQ8QWEzIwdKsSUnbOBez0GnxL7Gn4CxEFrlEoHOSxSBEqwekxiXZNz3SZgBjI03LHvXhVJ7TN97oHugd5DxH6IQdOVdb9AchK3O9a4BisJYVQ&key=AIzaSyAUgrWhyX0f47YufM4X5jQ1kKPALzB-Koc",
          "user_plans": [],
          "meals": {
            "breakfast": {
              "name": "Local Breakfast near Apartment",
              "name_en": "",
              "cost": 8,
              "cuisine": "Beijing Breakfast",
              "signature_dishes": "",
              "image": "http://store.is.autonavi.com/showpic/529e8f649efdf5923cbb5a4741eb8bdb",
              "time": {
                "start": "08:00",
                "end": "09:00"
              },
              "links": {}
            },
            "lunch": {
              "name": "Lunch near Apartment",
              "name_en": "",
              "cost": 15,
              "cuisine": "Chinese",
              "signature_dishes": "",
              "image": "https://aos-comment.amap.com/B0JKJSHGWE/comment/F2024E61_AC64_4CFC_A999_7530AF71E874_L0_001_1500_200_1768879287251_10632386.jpg",
              "time": {
                "start": "12:00",
                "end": "13:30"
              },
              "links": {}
            },
            "dinner": {
              "name": "Sichuan Restaurant",
              "name_en": "",
              "cost": 35,
              "cuisine": "Sichuan",
              "signature_dishes": "",
              "image": "https://aos-comment.amap.com/B0KRAMBSKF/comment/content_media_external_file_100001374_1763999022915_59331045.jpg",
              "time": {
                "start": "18:30",
                "end": "20:00"
              },
              "links": {}
            }
          },
          "attractions": [],
          "entertainment": [],
          "accommodation": {
            "name": "Short-term Rental Apartment (TBD)",
            "name_cn": "",
            "type": "Vacation Rental / Short-Term Apartment",
            "location": "Near Tsinghua University/Peking University, Haidian District, Beijing",
            "cost": 35,
            "stars": 3,
            "time": {
              "start": "15:00",
              "end": "16:00"
            },
            "links": {},
            "image": "https://aos-comment.amap.com/B0FFF007D1/comment/content_media_external_file_6735_1764542758644_71064924.jpg"
          },
          "transportation": null,
          "budget": {
            "meals": 58,
            "attractions": 0,
            "entertainment": 0,
            "accommodation": 35,
            "total": 93
          }
        },
        {
          "day": 19,
          "date": "2026-03-05",
          "location": "Beijing",
          "cover": "https://maps.googleapis.com/maps/api/place/photo?maxwidth=800&photoreference=AcnlKN3zSNFXjfNQ9B9ecx22tMCa1Eb_pRcOGEUeqlKo4iWV_dEgr1PrK_8i7epN0VAsNf2Q71BYA7LHSP3KBbYzkM06iy3y5Zf8zBzjlzv6xlEoTB8MkVrCqQPYB-VFtA_Gg1Q1YG8HwApDMFIdvgIzo7HOwiQyze2qjfS17M0kXNFoMGzAsQTNxxcwCQSHucaG_QSQPJ2-18rPe5YrWp2NAUUyt39aVD9GQyYGVEYujpc729pgOzOi6WjjaJjGN-irkM6nPioSz9rmTiu_iqmTqasTXTG2lNzLW1l7TrM_O8k5ZwY6JEXFL78JQJ_TqJGmmUQ8QWEzIwdKsSUnbOBez0GnxL7Gn4CxEFrlEoHOSxSBEqwekxiXZNz3SZgBjI03LHvXhVJ7TN97oHugd5DxH6IQdOVdb9AchK3O9a4BisJYVQ&key=AIzaSyAUgrWhyX0f47YufM4X5jQ1kKPALzB-Koc",
          "user_plans": [],
          "meals": {
            "breakfast": {
              "name": "Local Breakfast near Apartment",
              "name_en": "",
              "cost": 8,
              "cuisine": "Beijing Breakfast",
              "signature_dishes": "",
              "image": "http://store.is.autonavi.com/showpic/529e8f649efdf5923cbb5a4741eb8bdb",
              "time": {
                "start": "08:00",
                "end": "09:00"
              },
              "links": {}
            },
            "lunch": {
              "name": "Lunch near Apartment",
              "name_en": "",
              "cost": 15,
              "cuisine": "Chinese",
              "signature_dishes": "",
              "image": "https://aos-comment.amap.com/B0JKJSHGWE/comment/F2024E61_AC64_4CFC_A999_7530AF71E874_L0_001_1500_200_1768879287251_10632386.jpg",
              "time": {
                "start": "12:00",
                "end": "13:30"
              },
              "links": {}
            },
            "dinner": {
              "name": "Western Restaurant",
              "name_en": "",
              "cost": 45,
              "cuisine": "Western",
              "signature_dishes": "",
              "image": "https://aos-comment.amap.com/B0G0CXZA2F/comment/content_media_external_file_100010017_1769653991228_12857928.jpg",
              "time": {
                "start": "18:30",
                "end": "20:00"
              },
              "links": {}
            }
          },
          "attractions": [],
          "entertainment": [],
          "accommodation": {
            "name": "Short-term Rental Apartment (TBD)",
            "name_cn": "",
            "type": "Vacation Rental / Short-Term Apartment",
            "location": "Near Tsinghua University/Peking University, Haidian District, Beijing",
            "cost": 35,
            "stars": 3,
            "time": {
              "start": "15:00",
              "end": "16:00"
            },
            "links": {},
            "image": "https://aos-comment.amap.com/B0FFF007D1/comment/content_media_external_file_6735_1764542758644_71064924.jpg"
          },
          "transportation": null,
          "budget": {
            "meals": 68,
            "attractions": 0,
            "entertainment": 0,
            "accommodation": 35,
            "total": 103
          }
        },
        {
          "day": 20,
          "date": "2026-03-06",
          "location": "Beijing",
          "cover": "https://maps.googleapis.com/maps/api/place/photo?maxwidth=800&photoreference=AcnlKN3zSNFXjfNQ9B9ecx22tMCa1Eb_pRcOGEUeqlKo4iWV_dEgr1PrK_8i7epN0VAsNf2Q71BYA7LHSP3KBbYzkM06iy3y5Zf8zBzjlzv6xlEoTB8MkVrCqQPYB-VFtA_Gg1Q1YG8HwApDMFIdvgIzo7HOwiQyze2qjfS17M0kXNFoMGzAsQTNxxcwCQSHucaG_QSQPJ2-18rPe5YrWp2NAUUyt39aVD9GQyYGVEYujpc729pgOzOi6WjjaJjGN-irkM6nPioSz9rmTiu_iqmTqasTXTG2lNzLW1l7TrM_O8k5ZwY6JEXFL78JQJ_TqJGmmUQ8QWEzIwdKsSUnbOBez0GnxL7Gn4CxEFrlEoHOSxSBEqwekxiXZNz3SZgBjI03LHvXhVJ7TN97oHugd5DxH6IQdOVdb9AchK3O9a4BisJYVQ&key=AIzaSyAUgrWhyX0f47YufM4X5jQ1kKPALzB-Koc",
          "user_plans": [],
          "meals": {
            "breakfast": {
              "name": "Special Breakfast Spot",
              "name_en": "",
              "cost": 20,
              "cuisine": "Western/Brunch",
              "signature_dishes": "",
              "image": "http://store.is.autonavi.com/showpic/db9782f8d5e416186f60c9e4ed8b2633",
              "time": {
                "start": "08:00",
                "end": "09:00"
              },
              "links": {}
            },
            "lunch": {
              "name": "Shopping Mall Restaurant",
              "name_en": "",
              "cost": 35,
              "cuisine": "International",
              "signature_dishes": "",
              "image": "https://aos-comment.amap.com/B0FFFW763T/headerImg/a331b0a4ebc0b97ddfe56c643bd3800a_2048_2048_80.jpg",
              "time": {
                "start": "12:00",
                "end": "13:30"
              },
              "links": {}
            },
            "dinner": {
              "name": "Special Farewell Dinner",
              "name_en": "",
              "cost": 80,
              "cuisine": "Fine Dining",
              "signature_dishes": "",
              "image": "https://aos-comment.amap.com/B0HU7ZXIDX/comment/content_media_external_images_media_171_1765329163296_88374083.jpg",
              "time": {
                "start": "18:30",
                "end": "20:00"
              },
              "links": {}
            }
          },
          "attractions": [
            {
              "name": "Final Day Activities - Shopping & Memorable Experiences",
              "name_en": "",
              "location": "Various",
              "type": "Flexible",
              "cost": 0,
              "cost_eur": 0,
              "opening_hours": "",
              "recommended_duration": "",
              "image": "",
              "highlights": [],
              "time": {
                "start": "10:00",
                "end": "12:00"
              },
              "links": {}
            }
          ],
          "entertainment": [
            {
              "name": "Final Shopping Day - Cute Toys and Souvenirs",
              "name_en": "",
              "type": "Shopping/Entertainment",
              "cost": 200,
              "duration": "",
              "note": "",
              "image": "",
              "time": "11:00",
              "links": {}
            }
          ],
          "accommodation": {
            "name": "Short-term Rental Apartment (TBD)",
            "name_cn": "",
            "type": "Vacation Rental / Short-Term Apartment",
            "location": "Near Tsinghua University/Peking University, Haidian District, Beijing",
            "cost": 35,
            "stars": 3,
            "time": {
              "start": "15:00",
              "end": "16:00"
            },
            "links": {},
            "image": "https://aos-comment.amap.com/B0FFF007D1/comment/content_media_external_file_6735_1764542758644_71064924.jpg"
          },
          "transportation": null,
          "budget": {
            "meals": 135,
            "attractions": 0,
            "entertainment": 200,
            "accommodation": 35,
            "total": 370
          }
        },
        {
          "day": 21,
          "date": "2026-03-07",
          "location": "Beijing",
          "cover": "https://maps.googleapis.com/maps/api/place/photo?maxwidth=800&photoreference=AcnlKN3zSNFXjfNQ9B9ecx22tMCa1Eb_pRcOGEUeqlKo4iWV_dEgr1PrK_8i7epN0VAsNf2Q71BYA7LHSP3KBbYzkM06iy3y5Zf8zBzjlzv6xlEoTB8MkVrCqQPYB-VFtA_Gg1Q1YG8HwApDMFIdvgIzo7HOwiQyze2qjfS17M0kXNFoMGzAsQTNxxcwCQSHucaG_QSQPJ2-18rPe5YrWp2NAUUyt39aVD9GQyYGVEYujpc729pgOzOi6WjjaJjGN-irkM6nPioSz9rmTiu_iqmTqasTXTG2lNzLW1l7TrM_O8k5ZwY6JEXFL78JQJ_TqJGmmUQ8QWEzIwdKsSUnbOBez0GnxL7Gn4CxEFrlEoHOSxSBEqwekxiXZNz3SZgBjI03LHvXhVJ7TN97oHugd5DxH6IQdOVdb9AchK3O9a4BisJYVQ&key=AIzaSyAUgrWhyX0f47YufM4X5jQ1kKPALzB-Koc",
          "user_plans": [],
          "meals": {
            "breakfast": {
              "name": "Breakfast near Apartment",
              "name_en": "",
              "cost": 10,
              "cuisine": "Chinese",
              "signature_dishes": "",
              "image": "https://aos-comment.amap.com/B0G0BN0VAB/comment/008ADF8C_133A_4556_AC16_782CDC32C074_L0_001_1280_1706_1742836529479_59249532.jpg",
              "time": {
                "start": "08:00",
                "end": "09:00"
              },
              "links": {}
            },
            "lunch": {
              "name": "Airport or Near Apartment",
              "name_en": "",
              "cost": 20,
              "cuisine": "Chinese/Airport Food",
              "signature_dishes": "",
              "image": "http://store.is.autonavi.com/showpic/c6179057182b053891b4103fd97039a9",
              "time": {
                "start": "12:00",
                "end": "13:30"
              },
              "links": {}
            },
            "dinner": {
              "name": "N/A - Departure Day",
              "name_en": "",
              "cost": 0,
              "cuisine": "N/A",
              "signature_dishes": "",
              "image": "http://store.is.autonavi.com/showpic/53b0df1ea310a21470ac6f06",
              "time": {
                "start": "18:30",
                "end": "20:00"
              },
              "links": {}
            }
          },
          "attractions": [],
          "entertainment": [],
          "accommodation": {
            "name": "Short-term Rental Apartment (TBD)",
            "name_cn": "",
            "type": "Vacation Rental / Short-Term Apartment",
            "location": "Near Tsinghua University/Peking University, Haidian District, Beijing",
            "cost": 35,
            "stars": 3,
            "time": {
              "start": "15:00",
              "end": "16:00"
            },
            "links": {},
            "image": "https://aos-comment.amap.com/B0FFF007D1/comment/content_media_external_file_6735_1764542758644_71064924.jpg"
          },
          "transportation": null,
          "budget": {
            "meals": 30,
            "attractions": 0,
            "entertainment": 0,
            "accommodation": 35,
            "total": 65
          }
        }
      ]
    }
  ]
};

    
// ============================================================
// HOOKS
// ============================================================
const { useState, useEffect, useCallback } = React;

const useBreakpoint = () => {
  const [bp, setBp] = useState(() => {
    const w = window.innerWidth;
    return w < 640 ? 'sm' : w < 960 ? 'md' : 'lg';
  });
  useEffect(() => {
    const h = () => { const w = window.innerWidth; setBp(w < 640 ? 'sm' : w < 960 ? 'md' : 'lg'); };
    window.addEventListener('resize', h);
    return () => window.removeEventListener('resize', h);
  }, []);
  return bp;
};

// ============================================================
// ATOMS
// ============================================================
const LinkChip = ({ href, type, compact }) => {
  if (!href) return null;
  const cfg = {
    google_maps: { icon: 'üåç', label: 'Google Maps', bg: '#edf2fc', color: '#2b63b5' },
    gaode: { icon: 'üó∫Ô∏è', label: 'È´òÂæ∑', bg: '#e9f5ec', color: '#1a7a32' },
    xiaohongshu: { icon: 'üìï', label: 'Â∞èÁ∫¢‰π¶', bg: '#fce8e6', color: '#c5221f' },
    booking: { icon: 'üè®', label: 'Booking', bg: '#e8eaf6', color: '#1a237e' },
    dianping: { icon: '‚≠ê', label: 'ÁÇπËØÑ', bg: '#fff3e0', color: '#e65100' }
  }[type] || { icon: 'üîó', label: 'Link', bg: '#f5f5f5', color: '#666' };
  return (
    <a href={href} target="_blank" rel="noopener noreferrer" style={{
      display: 'inline-flex', alignItems: 'center', gap: '3px',
      padding: compact ? '2px 5px' : '2px 8px',
      background: cfg.bg, color: cfg.color,
      borderRadius: '3px', fontSize: compact ? '10px' : '11px',
      fontWeight: '500', textDecoration: 'none', transition: 'opacity .12s'
    }}
      onMouseEnter={e => e.currentTarget.style.opacity = '0.7'}
      onMouseLeave={e => e.currentTarget.style.opacity = '1'}
    >{cfg.icon}{compact ? '' : ` ${cfg.label}`}</a>
  );
};

const LinksRow = ({ links, compact }) => {
  if (!links || !Object.keys(links).length) return null;
  return (
    <div style={{ display: 'flex', flexWrap: 'wrap', gap: '4px', marginTop: '8px' }}>
      {Object.entries(links).map(([t, u]) => <LinkChip key={t} href={u} type={t} compact={compact} />)}
    </div>
  );
};

const PropertyRow = ({ label, children }) => (
  <div style={{ display: 'flex', alignItems: 'baseline', padding: '5px 0', fontSize: '14px', lineHeight: '1.6' }}>
    <span style={{ width: '130px', flexShrink: 0, color: '#9b9a97', fontSize: '13px' }}>{label}</span>
    <span style={{ color: '#37352f' }}>{children}</span>
  </div>
);

const Section = ({ title, icon, children }) => (
  <div style={{ marginBottom: '32px' }}>
    <div style={{
      display: 'flex', alignItems: 'center', gap: '8px',
      fontSize: '15px', fontWeight: '600', color: '#37352f',
      paddingBottom: '6px', marginBottom: '14px',
      borderBottom: '1px solid #edece9'
    }}>
      <span style={{ fontSize: '16px' }}>{icon}</span> {title}
    </div>
    {children}
  </div>
);

const Donut = ({ budget, size = 80, onBudgetClick, day }) => {
  const items = [
    { v: budget.meals || 0, c: '#f0b429', k: 'meals' },
    { v: budget.attractions || 0, c: '#4a90d9', k: 'attractions' },
    { v: budget.entertainment || 0, c: '#9b6dd7', k: 'entertainment' },
    { v: budget.accommodation || 0, c: '#45b26b', k: 'accommodation' }
  ].filter(i => i.v > 0);
  const t = items.reduce((s, i) => s + i.v, 0);
  if (t === 0) return null;
  let cum = 0;
  const p = (r, a) => ({ x: 50 + r * Math.cos((a - 90) * Math.PI / 180), y: 50 + r * Math.sin((a - 90) * Math.PI / 180) });
  const arc = (sa, ea) => { const s = p(44, ea), e = p(44, sa); return `M${s.x},${s.y}A44,44,0,${ea - sa > 180 ? 1 : 0},0,${e.x},${e.y}L50,50Z`; };
  return (
    <svg viewBox="0 0 100 100" style={{ width: size, height: size }}>
      {items.map((it, i) => { const a = (it.v / t) * 360; const d = arc(cum, cum + a); cum += a; return <path key={i} d={d} fill={it.c} style={{ cursor: onBudgetClick ? 'pointer' : 'default' }} onClick={() => onBudgetClick && onBudgetClick(it.k, day)} />; })}
      <circle cx="50" cy="50" r="24" fill="white" />
    </svg>
  );
};

const PropLine = ({ label, value }) => (
  <div style={{ fontSize: '12px', lineHeight: 1.7 }}>
    <span style={{ color: '#9b9a97' }}>{label}</span>{' '}
    <span style={{ color: '#37352f' }}>{value}</span>
  </div>
);

// ============================================================
// SIDEBAR
// ============================================================
const Sidebar = ({ trips, selTrip, selDay, onSelect, isOpen, onClose, bp }) => {
  const [exp, setExp] = useState({ [trips[0]?.name]: true });
  const mobile = bp === 'sm';
  const W = bp === 'lg' ? 240 : 220;

  return (
    <>
      {mobile && isOpen && <div onClick={onClose} style={{ position: 'fixed', inset: 0, background: 'rgba(0,0,0,0.2)', zIndex: 199 }} />}
      <div style={{
        width: W, flexShrink: 0, background: '#fbfbfa', borderRight: '1px solid #f0efed',
        padding: '14px 8px', overflowY: 'auto', height: '100vh',
        position: mobile ? 'fixed' : 'sticky', top: 0, left: 0, zIndex: 200,
        transform: mobile && !isOpen ? `translateX(-${W + 10}px)` : 'none',
        transition: 'transform .25s ease',
        boxShadow: mobile && isOpen ? '2px 0 8px rgba(0,0,0,0.06)' : 'none'
      }}>
        <div style={{ padding: '4px 10px 12px', fontSize: '12px', fontWeight: '600', color: '#37352f', display: 'flex', alignItems: 'center', gap: '6px', lineHeight: '1.45' }}>
          <span>üìã</span>
          <span style={{ flex: 1 }}>{PLAN_DATA.trip_summary.description}</span>
          {mobile && <button onClick={onClose} style={{ background: 'none', border: 'none', cursor: 'pointer', color: '#b4b4b4', fontSize: '14px' }}>‚úï</button>}
        </div>

        {trips.map((trip, ti) => {
          const open = exp[trip.name] !== false;
          const has = trip.days.length > 0;
          return (
            <div key={trip.name}>
              <div
                onClick={() => { setExp(p => ({ ...p, [trip.name]: !p[trip.name] })); if (has) onSelect(ti, 0); if (mobile) onClose(); }}
                style={{
                  display: 'flex', alignItems: 'center', gap: '4px',
                  padding: '5px 10px', borderRadius: '5px', cursor: 'pointer',
                  fontSize: '13px', color: '#37352f',
                  background: selTrip === ti ? 'rgba(55,53,47,0.06)' : 'transparent',
                  borderLeft: selTrip === ti ? '2px solid #37352f' : '2px solid transparent',
                  transition: 'all .1s'
                }}
                onMouseEnter={e => { if (selTrip !== ti) e.currentTarget.style.background = 'rgba(55,53,47,0.03)'; }}
                onMouseLeave={e => { if (selTrip !== ti) e.currentTarget.style.background = 'transparent'; }}
              >
                <span style={{ fontSize: '9px', color: '#b4b4b4', transform: open ? 'rotate(90deg)' : '', transition: 'transform .15s', display: 'inline-block', marginRight: '2px' }}>‚ñ∂</span>
                <span style={{ fontWeight: '500', flex: 1 }}>{trip.name}</span>
                <span style={{ fontSize: '11px', color: '#b4b4b4' }}>({trip.days_label})</span>
              </div>
              {open && has && (
                <div style={{ marginLeft: '16px' }}>
                  {trip.days.map((d, di) => {
                    const active = selTrip === ti && selDay === di;
                    return (
                      <div key={di}
                        onClick={() => { onSelect(ti, di); if (mobile) onClose(); }}
                        style={{
                          padding: '4px 10px', borderRadius: '5px', cursor: 'pointer',
                          fontSize: '13px', color: '#37352f',
                          background: active ? 'rgba(55,53,47,0.06)' : 'transparent',
                          fontWeight: active ? '500' : '400',
                          borderLeft: active ? '2px solid #37352f' : '2px solid transparent',
                          transition: 'all .1s'
                        }}
                        onMouseEnter={e => { if (!active) e.currentTarget.style.background = 'rgba(55,53,47,0.03)'; }}
                        onMouseLeave={e => { if (!active) e.currentTarget.style.background = active ? 'rgba(55,53,47,0.06)' : 'transparent'; }}
                      >üìÑ Day {d.day}</div>
                    );
                  })}
                </div>
              )}
            </div>
          );
        })}
      </div>
    </>
  );
};

// ============================================================
// ITEM DETAIL SIDEBAR
// ============================================================
const ItemDetailSidebar = ({ item, type, onClose, bp }) => {
  if (!item) return null;
  const sm = bp === 'sm';
  const W = sm ? '85%' : '400px';

  return (
    <>
      <div onClick={onClose} style={{
        position: 'fixed', inset: 0, background: 'rgba(0,0,0,0.2)', zIndex: 299
      }} />
      <div style={{
        position: 'fixed', right: 0, top: 0, bottom: 0,
        width: W, background: '#fff',
        boxShadow: '-2px 0 8px rgba(0,0,0,0.08)',
        overflowY: 'auto', zIndex: 300,
        animation: 'slideIn 0.25s ease',
        padding: '24px'
      }}>
        <style>{`@keyframes slideIn { from { transform: translateX(100%); } to { transform: translateX(0); } }`}</style>

        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '20px' }}>
          <div style={{ fontSize: '20px' }}>
            {{ meal: 'üçΩÔ∏è', attraction: 'üìç', entertainment: 'üé≠', accommodation: 'üè®', transportation: item.icon || 'üöÑ' }[type] || 'üìÑ'}
          </div>
          <button onClick={onClose} style={{
            background: 'none', border: 'none', cursor: 'pointer',
            fontSize: '20px', color: '#b4b4b4', padding: '4px 8px'
          }}>‚úï</button>
        </div>

        {item.image && (
          <div style={{
            width: '100%', height: '200px', borderRadius: '8px',
            overflow: 'hidden', marginBottom: '20px', background: '#f5f3ef'
          }}>
            <img src={item.image} alt="" style={{ width: '100%', height: '100%', objectFit: 'cover' }}
              onError={e => e.target.style.display = 'none'} />
          </div>
        )}

        <h2 style={{ fontSize: '24px', fontWeight: '700', color: '#37352f', margin: '0 0 4px' }}>
          {item.name}
        </h2>
        {item.name_en && (
          <div style={{ fontSize: '14px', color: '#9b9a97', marginBottom: '20px' }}>{item.name_en}</div>
        )}
        {item.name_cn && (
          <div style={{ fontSize: '14px', color: '#9b9a97', marginBottom: '20px' }}>{item.name_cn}</div>
        )}

        <div style={{ borderTop: '1px solid #f0efed', paddingTop: '16px' }}>
          {item.time && (
            <PropertyRow label="Time">
              {item.time.start} ‚Äì {item.time.end}
            </PropertyRow>
          )}
          {item.cost !== undefined && (
            <PropertyRow label="Cost">
              {item.cost === 0 ? 'Free' : `${item.cost.toFixed(2)} CNY`}
              {item.cost_eur && ` (‚Ç¨${item.cost_eur.toFixed(2)})`}
            </PropertyRow>
          )}
          {item.cuisine && <PropertyRow label="Cuisine">{item.cuisine}</PropertyRow>}
          {item.signature_dishes && <PropertyRow label="Signature Dishes">{item.signature_dishes}</PropertyRow>}
          {item.type && <PropertyRow label="Type">{item.type}</PropertyRow>}
          {item.location && <PropertyRow label="Location">{item.location}</PropertyRow>}
          {item.opening_hours && <PropertyRow label="Opening Hours">{item.opening_hours}</PropertyRow>}
          {item.recommended_duration && <PropertyRow label="Duration">{item.recommended_duration}</PropertyRow>}
          {item.duration && <PropertyRow label="Duration">{item.duration}</PropertyRow>}
          {item.stars && (
            <PropertyRow label="Stars">
              <span style={{ color: '#e9b200', letterSpacing: '1px' }}>{'‚òÖ'.repeat(item.stars)}</span>
            </PropertyRow>
          )}
          {item.departure_point && <PropertyRow label="From">{item.departure_point}</PropertyRow>}
          {item.arrival_point && <PropertyRow label="To">{item.arrival_point}</PropertyRow>}
          {item.transport_type && <PropertyRow label="Type">{item.transport_type}</PropertyRow>}
          {item.route_number && item.route_number !== 'VERIFIED' && (
            <PropertyRow label="Route Number">{item.route_number}</PropertyRow>
          )}
          {item.airline && <PropertyRow label="Airline">{item.airline}</PropertyRow>}
          {item.departure_time && <PropertyRow label="Departure">{item.departure_time}</PropertyRow>}
          {item.arrival_time && <PropertyRow label="Arrival">{item.arrival_time}</PropertyRow>}
          {item.booking_status && (
            <PropertyRow label="Booking Status">
              <span style={{
                display: 'inline-block',
                padding: '4px 10px',
                borderRadius: '4px',
                fontSize: '11px',
                fontWeight: '600',
                background: item.booking_status.includes('URGENT') ? '#fff4e6' :
                           item.booking_status.includes('VERIFIED') ? '#e9f5ec' : '#edf2fc',
                color: item.booking_status.includes('URGENT') ? '#d97706' :
                      item.booking_status.includes('VERIFIED') ? '#1a7a32' : '#2b63b5',
                border: `1px solid ${item.booking_status.includes('URGENT') ? '#fed7aa' :
                                    item.booking_status.includes('VERIFIED') ? '#a2d9b1' : '#bdd7f0'}`
              }}>
                {item.booking_status}
              </span>
            </PropertyRow>
          )}
          {item.highlights && item.highlights.length > 0 && (
            <div style={{ marginTop: '16px' }}>
              <div style={{ fontSize: '13px', fontWeight: '600', color: '#37352f', marginBottom: '8px' }}>
                Highlights
              </div>
              <ul style={{ margin: 0, paddingLeft: '20px', fontSize: '14px', lineHeight: 1.8, color: '#37352f' }}>
                {item.highlights.map((h, i) => <li key={i}>{h}</li>)}
              </ul>
            </div>
          )}
          {item.booking_urgency && (
            <div style={{
              marginTop: '16px', padding: '12px 16px',
              background: '#fff4e6', borderRadius: '6px',
              border: '1px solid #fed7aa', fontSize: '13px', color: '#9a6700'
            }}>
              ‚ö†Ô∏è {item.booking_urgency}
            </div>
          )}
          {item.note && (
            <div style={{
              marginTop: '16px', padding: '12px 16px',
              background: '#fffdf5', borderRadius: '6px',
              border: '1px solid #f5ecd7', fontSize: '13px', color: '#9a6700'
            }}>
              üí° {item.note}
            </div>
          )}
          {item.notes && (
            <div style={{
              marginTop: '16px', padding: '12px 16px',
              background: '#f5f9fc', borderRadius: '6px',
              border: '1px solid #d9e8f5', fontSize: '13px', color: '#37352f', lineHeight: 1.6
            }}>
              {item.notes}
            </div>
          )}
          {item.links && Object.keys(item.links).length > 0 && (
            <div style={{ marginTop: '20px' }}>
              <div style={{ fontSize: '13px', fontWeight: '600', color: '#37352f', marginBottom: '8px' }}>
                Links
              </div>
              <LinksRow links={item.links} />
            </div>
          )}
        </div>
      </div>
    </>
  );
};

// ============================================================
// BUDGET DETAIL SIDEBAR
// ============================================================
const BudgetDetailSidebar = ({ category, items, total, onClose, bp }) => {
  if (!category) return null;
  const sm = bp === 'sm';
  const W = sm ? '85%' : '400px';

  const categoryConfig = {
    meals: { icon: 'üçΩÔ∏è', label: 'Meals', color: '#f0b429' },
    attractions: { icon: 'üìç', label: 'Attractions', color: '#4a90d9' },
    entertainment: { icon: 'üé≠', label: 'Entertainment', color: '#9b6dd7' },
    accommodation: { icon: 'üè®', label: 'Accommodation', color: '#45b26b' }
  };
  const cfg = categoryConfig[category] || { icon: 'üí∞', label: 'Budget', color: '#37352f' };

  return (
    <>
      <div onClick={onClose} style={{
        position: 'fixed', inset: 0, background: 'rgba(0,0,0,0.2)', zIndex: 299
      }} />
      <div style={{
        position: 'fixed', right: 0, top: 0, bottom: 0,
        width: W, background: '#fff',
        boxShadow: '-2px 0 8px rgba(0,0,0,0.08)',
        overflowY: 'auto', zIndex: 300,
        animation: 'slideIn 0.25s ease',
        padding: '24px'
      }}>
        <style>{`@keyframes slideIn { from { transform: translateX(100%); } to { transform: translateX(0); } }`}</style>

        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '24px' }}>
          <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>
            <div style={{ fontSize: '24px' }}>{cfg.icon}</div>
            <h2 style={{ fontSize: '20px', fontWeight: '700', color: '#37352f', margin: 0 }}>
              {cfg.label}
            </h2>
          </div>
          <button onClick={onClose} style={{
            background: 'none', border: 'none', cursor: 'pointer',
            fontSize: '20px', color: '#b4b4b4', padding: '4px 8px'
          }}>‚úï</button>
        </div>

        {items && items.length > 0 ? (
          <div>
            {items.map((item, i) => (
              <div key={i} style={{
                padding: '14px 16px',
                background: '#fbfbfa',
                borderRadius: '6px',
                border: '1px solid #f0efed',
                marginBottom: '10px'
              }}>
                <div style={{ fontSize: '14px', fontWeight: '600', color: '#37352f', marginBottom: '4px' }}>
                  {item.name}
                </div>
                {item.name_en && (
                  <div style={{ fontSize: '12px', color: '#9b9a97', marginBottom: '6px' }}>{item.name_en}</div>
                )}
                {item.name_cn && (
                  <div style={{ fontSize: '12px', color: '#9b9a97', marginBottom: '6px' }}>{item.name_cn}</div>
                )}
                <div style={{
                  display: 'flex', justifyContent: 'space-between',
                  fontSize: '14px', marginTop: '8px'
                }}>
                  <span style={{ color: '#9b9a97' }}>Cost</span>
                  <span style={{ fontWeight: '600', color: cfg.color }}>
                    {item.cost === 0 ? 'Free' : `${item.cost.toFixed(2)} CNY`}
                  </span>
                </div>
              </div>
            ))}

            <div style={{
              marginTop: '20px', paddingTop: '16px',
              borderTop: '2px solid #edece9'
            }}>
              <div style={{
                display: 'flex', justifyContent: 'space-between',
                fontSize: '16px', fontWeight: '700', color: '#37352f'
              }}>
                <span>Total</span>
                <span style={{ color: cfg.color }}>{total.toFixed(2)} CNY</span>
              </div>
            </div>
          </div>
        ) : (
          <div style={{ padding: '40px 20px', textAlign: 'center', color: '#9b9a97' }}>
            <div style={{ fontSize: '48px', marginBottom: '12px' }}>{cfg.icon}</div>
            <div style={{ fontSize: '14px' }}>No items in this category</div>
          </div>
        )}
      </div>
    </>
  );
};

// ============================================================
// KANBAN VIEW
// ============================================================
const KanbanView = ({ day, tripSummary, showSummary, bp, onItemClick, onBudgetClick }) => {
  const sm = bp === 'sm';
  const px = sm ? '16px' : bp === 'md' ? '32px' : '48px';

  return (
    <div style={{ maxWidth: '960px' }}>
      <div style={{
        width: '100%',
        height: sm ? '120px' : '200px',
        background: day.cover ? `linear-gradient(to bottom, rgba(0,0,0,0) 50%, rgba(0,0,0,0.03) 100%), url(${day.cover})` : '#f5f5f5',
        backgroundSize: 'cover', backgroundPosition: 'center'
      }} />

      <div style={{ padding: `0 ${px}` }}>
        <div style={{ marginTop: sm ? '-24px' : '-36px', marginBottom: '24px' }}>
          <div style={{ fontSize: sm ? '40px' : '56px', lineHeight: 1, marginBottom: '8px' }}>üó∫Ô∏è</div>

          {showSummary ? (
            <>
              <h1 style={{ fontSize: sm ? '24px' : '36px', fontWeight: '700', color: '#37352f', margin: '0 0 20px', lineHeight: 1.25 }}>
                {tripSummary.description}
              </h1>
              <div style={{
                padding: sm ? '12px' : '16px 20px',
                background: '#fbfbfa', borderRadius: '8px',
                border: '1px solid #f0efed', marginBottom: '32px'
              }}>
                <PropertyRow label="Trip Type">{tripSummary.trip_type}</PropertyRow>
                {tripSummary.base_location && <PropertyRow label="Base Location">{tripSummary.base_location}</PropertyRow>}
                <PropertyRow label="Period">{tripSummary.period}</PropertyRow>
                <PropertyRow label="Travelers">{tripSummary.travelers}</PropertyRow>
                <PropertyRow label="Budget / Trip">{tripSummary.budget_per_trip}</PropertyRow>
                <PropertyRow label="Preferences">{tripSummary.preferences}</PropertyRow>
              </div>
            </>
          ) : (
            <h1 style={{ fontSize: sm ? '24px' : '36px', fontWeight: '700', color: '#37352f', margin: '0 0 24px', lineHeight: 1.25 }}>
              Day {day.day} ‚Äì {day.location}
            </h1>
          )}

          {showSummary && (
            <h2 style={{ fontSize: sm ? '20px' : '26px', fontWeight: '700', color: '#37352f', margin: '0 0 28px' }}>
              Day {day.day} ‚Äì {day.location}
            </h2>
          )}
        </div>

        {/* User Plans */}
        {day.user_plans && day.user_plans.length > 0 && (
          <Section title="User Plans" icon="üìù">
            <div style={{
              padding: '14px 18px', background: '#fafafa', borderRadius: '6px',
              border: '1px solid #f0efed'
            }}>
              <ul style={{ margin: 0, padding: '0 0 0 18px', fontSize: '14px', lineHeight: 2, color: '#37352f' }}>
                {day.user_plans.map((p, i) => <li key={i}>{p}</li>)}
              </ul>
            </div>
          </Section>
        )}

        {/* Meals */}
        <Section title="Meals" icon="üçΩÔ∏è">
          <div style={{ display: 'grid', gridTemplateColumns: sm ? '1fr' : 'repeat(3, 1fr)', gap: '14px' }}>
            {['breakfast', 'lunch', 'dinner'].map(type => {
              const meal = day.meals[type];
              if (!meal) return null;
              const lb = { breakfast: 'üåÖ Breakfast', lunch: '‚òÄÔ∏è Lunch', dinner: 'üåô Dinner' }[type];
              return (
                <div key={type} style={{
                  background: '#fff', borderRadius: '8px',
                  boxShadow: '0 1px 3px rgba(0,0,0,0.04), 0 0 0 1px rgba(0,0,0,0.03)',
                  overflow: 'hidden', transition: 'box-shadow .15s', cursor: 'pointer'
                }}
                  onClick={() => onItemClick && onItemClick(meal, 'meal')}
                  onMouseEnter={e => e.currentTarget.style.boxShadow = '0 2px 8px rgba(0,0,0,0.08), 0 0 0 1px rgba(0,0,0,0.04)'}
                  onMouseLeave={e => e.currentTarget.style.boxShadow = '0 1px 3px rgba(0,0,0,0.04), 0 0 0 1px rgba(0,0,0,0.03)'}
                >
                  <div style={{ width: '100%', height: sm ? '100px' : '130px', overflow: 'hidden', background: '#f5f3ef' }}>
                    <img src={meal.image} alt="" style={{ width: '100%', height: '100%', objectFit: 'cover' }}
                      onError={e => { e.target.style.display = 'none'; }} />
                  </div>
                  <div style={{ padding: '12px 14px' }}>
                    <div style={{ fontSize: '13px', fontWeight: '600', color: '#37352f', marginBottom: '6px' }}>
                      {lb}: {meal.name}
                    </div>
                    {meal.name_en && <div style={{ fontSize: '12px', color: '#9b9a97', marginBottom: '6px' }}>{meal.name_en}</div>}
                    <div style={{ fontSize: '12px', color: '#6b6b6b', lineHeight: 1.7 }}>
                      <div><span style={{ color: '#9b9a97' }}>Cost</span> {meal.cost === 0 ? 'Free' : `${meal.cost.toFixed(2)} CNY`}</div>
                      {meal.cuisine && <div><span style={{ color: '#9b9a97' }}>Cuisine</span> {meal.cuisine}</div>}
                      {meal.signature_dishes && !sm && <div><span style={{ color: '#9b9a97' }}>Signature</span> {meal.signature_dishes}</div>}
                    </div>
                    <LinksRow links={meal.links} compact={sm} />
                  </div>
                </div>
              );
            })}
          </div>
        </Section>

        {/* Attractions + Right column */}
        <div style={{ display: 'grid', gridTemplateColumns: sm ? '1fr' : '1fr 1fr', gap: '24px' }}>
          {/* Attractions */}
          <Section title="Attractions" icon="üìç">
            {day.attractions.map((attr, i) => (
              <div key={i} style={{
                background: '#fff', borderRadius: '8px',
                boxShadow: '0 1px 3px rgba(0,0,0,0.04), 0 0 0 1px rgba(0,0,0,0.03)',
                overflow: 'hidden', marginBottom: '14px', transition: 'box-shadow .15s', cursor: 'pointer'
              }}
                onClick={() => onItemClick && onItemClick(attr, 'attraction')}
                onMouseEnter={e => e.currentTarget.style.boxShadow = '0 2px 8px rgba(0,0,0,0.08), 0 0 0 1px rgba(0,0,0,0.04)'}
                onMouseLeave={e => e.currentTarget.style.boxShadow = '0 1px 3px rgba(0,0,0,0.04), 0 0 0 1px rgba(0,0,0,0.03)'}
              >
                {sm ? (
                  <>
                    <div style={{ height: '110px', overflow: 'hidden', background: '#eef4f9' }}>
                      <img src={attr.image} alt="" style={{ width: '100%', height: '100%', objectFit: 'cover' }} onError={e => e.target.style.display = 'none'} />
                    </div>
                    <div style={{ padding: '12px 14px' }}>
                      <div style={{ fontSize: '14px', fontWeight: '600', color: '#37352f', marginBottom: '4px' }}>{attr.name}</div>
                      {attr.name_en && <div style={{ fontSize: '12px', color: '#9b9a97', marginBottom: '6px' }}>{attr.name_en}</div>}
                      <PropLine label="Cost" value={attr.cost === 0 ? 'Free' : `${attr.cost.toFixed(2)} CNY${attr.cost_eur ? ` (‚Ç¨${attr.cost_eur.toFixed(2)})` : ''}`} />
                      <PropLine label="Hours" value={attr.opening_hours} />
                      <PropLine label="Duration" value={attr.recommended_duration} />
                      <LinksRow links={attr.links} compact />
                    </div>
                  </>
                ) : (
                  <div style={{ display: 'flex' }}>
                    <div style={{ width: '140px', flexShrink: 0, overflow: 'hidden', background: '#eef4f9' }}>
                      <img src={attr.image} alt="" style={{ width: '100%', height: '100%', objectFit: 'cover', minHeight: '160px' }} onError={e => e.target.style.display = 'none'} />
                    </div>
                    <div style={{ padding: '14px 16px', flex: 1, lineHeight: 1.7 }}>
                      <div style={{ fontSize: '14px', fontWeight: '600', color: '#37352f', marginBottom: '2px' }}>{attr.name}</div>
                      {attr.name_en && <div style={{ fontSize: '12px', color: '#9b9a97', marginBottom: '8px' }}>{attr.name_en}</div>}
                      {attr.location && <PropLine label="Location" value={attr.location} />}
                      <PropLine label="Type" value={attr.type} />
                      <PropLine label="Cost" value={attr.cost === 0 ? 'Free' : `${attr.cost.toFixed(2)} CNY${attr.cost_eur ? ` (‚Ç¨${attr.cost_eur.toFixed(2)})` : ''}`} />
                      <PropLine label="Hours" value={attr.opening_hours} />
                      <PropLine label="Duration" value={attr.recommended_duration} />
                      {attr.highlights && attr.highlights.length > 0 && (
                        <div style={{ marginTop: '6px' }}>
                          <span style={{ fontSize: '12px', color: '#9b9a97' }}>Highlights</span>
                          <ul style={{ margin: '2px 0 0', paddingLeft: '16px', fontSize: '12px', color: '#37352f', lineHeight: 1.7 }}>
                            {attr.highlights.map((h, j) => <li key={j}>{h}</li>)}
                          </ul>
                        </div>
                      )}
                      <LinksRow links={attr.links} />
                    </div>
                  </div>
                )}
              </div>
            ))}
          </Section>

          {/* Right column */}
          <div>
            {day.entertainment?.length > 0 && (
              <Section title="Entertainment" icon="üé≠">
                {day.entertainment.map((ent, i) => (
                  <div key={i} style={{
                    background: '#fff', borderRadius: '8px',
                    boxShadow: '0 1px 3px rgba(0,0,0,0.04), 0 0 0 1px rgba(0,0,0,0.03)',
                    overflow: 'hidden', marginBottom: '10px', cursor: 'pointer'
                  }}
                    onClick={() => onItemClick && onItemClick(ent, 'entertainment')}
                  >
                    {ent.image && (
                      <div style={{ width: '100%', height: sm ? '100px' : '120px', overflow: 'hidden', background: '#f5f3ef' }}>
                        <img src={ent.image} alt="" style={{ width: '100%', height: '100%', objectFit: 'cover' }}
                          onError={e => { e.target.style.display = 'none'; }} />
                      </div>
                    )}
                    <div style={{ padding: '14px 16px' }}>
                      <div style={{ fontSize: '14px', fontWeight: '600', color: '#37352f', marginBottom: '8px' }}>{ent.name}</div>
                      {ent.name_en && <div style={{ fontSize: '12px', color: '#9b9a97', marginBottom: '6px' }}>{ent.name_en}</div>}
                      <PropLine label="Type" value={ent.type} />
                      <PropLine label="Cost" value={ent.cost === 0 ? 'Free' : `${ent.cost.toFixed(2)} CNY`} />
                      <PropLine label="Duration" value={ent.duration} />
                      {ent.note && (
                        <div style={{ marginTop: '8px', padding: '8px 12px', background: '#fffdf5', borderRadius: '5px', border: '1px solid #f5ecd7', fontSize: '12px', color: '#9a6700' }}>
                          üí° {ent.note}
                        </div>
                      )}
                      <LinksRow links={ent.links} compact={sm} />
                    </div>
                  </div>
                ))}
              </Section>
            )}

            {day.accommodation && (
              <Section title="Accommodation" icon="üè®">
                <div style={{
                  background: '#fff', borderRadius: '8px',
                  boxShadow: '0 1px 3px rgba(0,0,0,0.04), 0 0 0 1px rgba(0,0,0,0.03)',
                  overflow: 'hidden', cursor: 'pointer'
                }}
                  onClick={() => onItemClick && onItemClick(day.accommodation, 'accommodation')}
                >
                  {day.accommodation.image && (
                    <div style={{ width: '100%', height: sm ? '120px' : '160px', overflow: 'hidden', background: '#f5f3ef' }}>
                      <img src={day.accommodation.image} alt="" style={{ width: '100%', height: '100%', objectFit: 'cover' }}
                        onError={e => { e.target.style.display = 'none'; }} />
                    </div>
                  )}
                  <div style={{ padding: '14px 16px' }}>
                    <div style={{ fontSize: '14px', fontWeight: '600', color: '#37352f', marginBottom: '4px' }}>{day.accommodation.name}</div>
                    {day.accommodation.name_cn && <div style={{ fontSize: '12px', color: '#9b9a97', marginBottom: '8px' }}>{day.accommodation.name_cn}</div>}
                    <PropLine label="Type" value={day.accommodation.type} />
                    <PropLine label="Stars" value={<span style={{ color: '#e9b200', letterSpacing: '1px' }}>{'‚òÖ'.repeat(day.accommodation.stars)}</span>} />
                    <PropLine label="Location" value={day.accommodation.location} />
                    <PropLine label="Cost" value={day.accommodation.cost === 0 ? 'Free' : `${day.accommodation.cost.toFixed(2)} CNY`} />
                    <LinksRow links={day.accommodation.links} compact={sm} />
                  </div>
                </div>
              </Section>
            )}

            {day.transportation && (
              <Section title="Transportation" icon={day.transportation.icon}>
                <div style={{
                  background: '#fff', borderRadius: '8px',
                  boxShadow: '0 1px 3px rgba(0,0,0,0.04), 0 0 0 1px rgba(0,0,0,0.03)',
                  overflow: 'hidden'
                }}>
                  <div style={{ padding: '14px 16px' }}>
                    <div style={{ fontSize: '14px', fontWeight: '600', color: '#37352f', marginBottom: '8px', display: 'flex', alignItems: 'center', gap: '6px' }}>
                      {day.transportation.icon} {day.transportation.from} ‚Üí {day.transportation.to}
                    </div>
                    <PropLine label="Route" value={`${day.transportation.departure_point} ‚Üí ${day.transportation.arrival_point}`} />
                    <PropLine label="Type" value={day.transportation.transport_type} />
                    {day.transportation.route_number && day.transportation.route_number !== 'VERIFIED' && (
                      <PropLine label="Route #" value={day.transportation.route_number} />
                    )}
                    {day.transportation.airline && (
                      <PropLine label="Airline" value={day.transportation.airline} />
                    )}
                    <PropLine label="Departure" value={day.transportation.departure_time} />
                    <PropLine label="Arrival" value={day.transportation.arrival_time} />
                    {day.transportation.cost > 0 && (
                      <PropLine label="Cost" value={`${day.transportation.cost.toFixed(2)} USD`} />
                    )}
                    {day.transportation.booking_status && (
                      <div style={{ marginTop: '8px' }}>
                        <span style={{
                          display: 'inline-block',
                          padding: '4px 10px',
                          borderRadius: '4px',
                          fontSize: '11px',
                          fontWeight: '600',
                          background: day.transportation.booking_status.includes('URGENT') ? '#fff4e6' :
                                     day.transportation.booking_status.includes('VERIFIED') ? '#e9f5ec' : '#edf2fc',
                          color: day.transportation.booking_status.includes('URGENT') ? '#d97706' :
                                day.transportation.booking_status.includes('VERIFIED') ? '#1a7a32' : '#2b63b5',
                          border: `1px solid ${day.transportation.booking_status.includes('URGENT') ? '#fed7aa' :
                                              day.transportation.booking_status.includes('VERIFIED') ? '#a2d9b1' : '#bdd7f0'}`
                        }}>
                          {day.transportation.booking_status}
                        </span>
                      </div>
                    )}
                    {day.transportation.booking_urgency && (
                      <div style={{
                        marginTop: '8px',
                        padding: '10px 12px',
                        background: '#fff4e6',
                        borderRadius: '6px',
                        border: '1px solid #fed7aa',
                        fontSize: '12px',
                        color: '#9a6700',
                        lineHeight: 1.6
                      }}>
                        ‚ö†Ô∏è {day.transportation.booking_urgency}
                      </div>
                    )}
                    {day.transportation.notes && !sm && (
                      <div style={{
                        marginTop: '8px',
                        padding: '10px 12px',
                        background: '#f5f9fc',
                        borderRadius: '6px',
                        border: '1px solid #d9e8f5',
                        fontSize: '12px',
                        color: '#37352f',
                        lineHeight: 1.6
                      }}>
                        {day.transportation.notes}
                      </div>
                    )}
                  </div>
                </div>
              </Section>
            )}

            <Section title="Budget" icon="üí∞">
              <div style={{
                background: '#fff', borderRadius: '8px',
                boxShadow: '0 1px 3px rgba(0,0,0,0.04), 0 0 0 1px rgba(0,0,0,0.03)',
                padding: '16px'
              }}>
                <div style={{ display: 'flex', alignItems: sm ? 'center' : 'center', gap: '20px', flexDirection: sm ? 'column' : 'row' }}>
                  <Donut budget={day.budget} size={sm ? 72 : 88} onBudgetClick={onBudgetClick} day={day} />
                  <div style={{ fontSize: '13px', color: '#6b6b6b', lineHeight: 2, flex: 1, width: '100%' }}>
                    {[
                      { k: 'meals', l: 'Meals', c: '#f0b429' },
                      { k: 'attractions', l: 'Attractions', c: '#4a90d9' },
                      { k: 'entertainment', l: 'Entertainment', c: '#9b6dd7' },
                      { k: 'accommodation', l: 'Accommodation', c: '#45b26b' }
                    ].filter(r => day.budget[r.k] > 0).map(r => (
                      <div key={r.k} style={{
                        display: 'flex', alignItems: 'center', gap: '8px',
                        cursor: 'pointer', padding: '4px 6px', margin: '0 -6px',
                        borderRadius: '4px', transition: 'background .12s'
                      }}
                        onClick={() => onBudgetClick && onBudgetClick(r.k, day)}
                        onMouseEnter={e => e.currentTarget.style.background = 'rgba(55,53,47,0.04)'}
                        onMouseLeave={e => e.currentTarget.style.background = 'transparent'}
                      >
                        <span style={{ width: '10px', height: '10px', borderRadius: '3px', background: r.c, flexShrink: 0 }} />
                        <span style={{ flex: 1 }}>{r.l}</span>
                        <span style={{ fontWeight: '600', color: '#37352f' }}>{day.budget[r.k].toFixed(2)} CNY</span>
                      </div>
                    ))}
                    <div style={{ borderTop: '1px solid #edece9', marginTop: '8px', paddingTop: '8px', fontWeight: '700', color: '#37352f', display: 'flex', justifyContent: 'space-between' }}>
                      <span>Total</span><span>{day.budget.total.toFixed(2)} CNY</span>
                    </div>
                  </div>
                </div>
              </div>
            </Section>
          </div>
        </div>
      </div>
    </div>
  );
};

// ============================================================
// TIMELINE VIEW
// ============================================================
const TimelineView = ({ day, bp, onItemClick }) => {
  // Fix #6: Add z-index state for click handling of overlapping items
  const [topItemIndex, setTopItemIndex] = useState(null);
  const sm = bp === 'sm';
  const px = sm ? '16px' : bp === 'md' ? '32px' : '48px';
  const timeW = sm ? '48px' : '62px';

  const entries = [];
  const add = (item, type, label) => {
    // Only add if item has valid time with start and end
    if (item?.time?.start && item?.time?.end) {
      entries.push({ ...item, _type: type, _label: label });
    }
  };
  // Add transportation if exists (Fix Issue #8)
  if (day.transportation) add(day.transportation, 'transportation', `${day.transportation.from}‚Üí${day.transportation.to}`);
  add(day.meals.breakfast, 'meal', 'Breakfast');
  add(day.meals.lunch, 'meal', 'Lunch');
  add(day.meals.dinner, 'meal', 'Dinner');
  day.attractions?.forEach(a => add(a, 'attraction', 'Attraction'));
  day.entertainment?.forEach(e => add(e, 'entertainment', 'Entertainment'));
  if (day.accommodation) add(day.accommodation, 'accommodation', 'Check-in');

  // Sort by start time
  entries.sort((a, b) => a.time.start.localeCompare(b.time.start));

  const firstH = entries.length ? parseInt(entries[0].time.start) : 8;
  const lastH = entries.length ? Math.min(parseInt(entries[entries.length - 1].time.start) + 2, 24) : 20;
  const hours = []; for (let h = firstH; h <= lastH; h++) hours.push(h);

  const hH = sm ? 68 : 80;
  const typeStyle = {
    transportation: { bg: '#f0f9ff', border: '#7dd3fc', dot: '#0ea5e9' },
    meal: { bg: '#fffdf5', border: '#ebd984', dot: '#f0b429' },
    attraction: { bg: '#f6fafd', border: '#a8cceb', dot: '#4a90d9' },
    entertainment: { bg: '#faf6fd', border: '#c9aee6', dot: '#9b6dd7' },
    accommodation: { bg: '#f5fbf6', border: '#a2d9b1', dot: '#45b26b' }
  };

  const top = (t) => { const [h, m] = t.split(':').map(Number); return (h - firstH) * hH + (m / 60) * hH; };
  const hgt = (s, e) => Math.max(top(e) - top(s), sm ? 56 : 64);

  // Debug: log entries count
  if (entries.length === 0) {
    console.warn('Timeline has no entries for day:', day.day, day.location);
  }

  return (
    <div style={{ maxWidth: '900px' }}>
      <div style={{
        width: '100%', height: sm ? '100px' : '160px',
        background: day.cover ? `url(${day.cover})` : '#f5f5f5',
        backgroundSize: 'cover', backgroundPosition: 'center'
      }} />

      <div style={{ padding: `0 ${px}` }}>
        <div style={{ marginTop: sm ? '-20px' : '-30px', marginBottom: '24px' }}>
          <div style={{ fontSize: sm ? '36px' : '48px', lineHeight: 1, marginBottom: '6px' }}>üìç</div>
          <h2 style={{ fontSize: sm ? '22px' : '28px', fontWeight: '700', color: '#37352f', margin: 0 }}>
            Day {day.day} ‚Äì {day.location}
          </h2>
        </div>

        {entries.length === 0 ? (
          <div style={{ padding: '40px 20px', textAlign: 'center', color: '#9b9a97' }}>
            <div style={{ fontSize: '48px', marginBottom: '16px' }}>‚è∞</div>
            <div style={{ fontSize: '16px', marginBottom: '8px' }}>No timeline data available</div>
            <div style={{ fontSize: '13px' }}>This day has no scheduled activities with time information</div>
          </div>
        ) : (
          <div style={{ display: 'flex', position: 'relative' }}>
          <div style={{ width: timeW, flexShrink: 0 }}>
            {hours.map(h => (
              <div key={h} style={{ height: hH, fontSize: '12px', color: '#c4c4c0', fontFamily: 'ui-monospace, monospace', paddingTop: '2px' }}>
                {String(h).padStart(2, '0')}:00
              </div>
            ))}
          </div>

          <div style={{ flex: 1, position: 'relative', borderLeft: '1px dashed #e5e4e1', minWidth: 0 }}>
            {hours.map(h => <div key={h} style={{ height: hH, borderBottom: '1px solid #f5f5f3' }} />)}

            {entries.map((entry, i) => {
              const st = typeStyle[entry._type] || typeStyle.attraction;
              const t = top(entry.time.start);
              const h = hgt(entry.time.start, entry.time.end);
              // Fix #6: Use dynamic z-index based on click state
              const isTop = topItemIndex === i;
              const zIdx = isTop ? 10 : 2;
              return (
                <div key={i} style={{
                  position: 'absolute', top: t, left: '10px', right: '10px',
                  minHeight: h - 4,
                  background: st.bg, borderLeft: `3px solid ${st.border}`,
                  borderRadius: '6px', padding: sm ? '8px 10px' : '10px 14px',
                  display: 'flex', gap: '10px', alignItems: 'flex-start',
                  boxShadow: isTop ? '0 4px 12px rgba(0,0,0,0.12)' : '0 1px 3px rgba(0,0,0,0.04)',
                  zIndex: zIdx, overflow: 'hidden', transition: 'all .15s', cursor: 'pointer'
                }}
                  onClick={() => { setTopItemIndex(i); onItemClick && onItemClick(entry, entry._type); }}
                  onMouseEnter={e => { if (!isTop) e.currentTarget.style.boxShadow = '0 2px 8px rgba(0,0,0,0.08)'; }}
                  onMouseLeave={e => { if (!isTop) e.currentTarget.style.boxShadow = '0 1px 3px rgba(0,0,0,0.04)'; }}
                >
                  <div style={{
                    position: 'absolute', left: '-8px', top: '50%', transform: 'translateY(-50%)',
                    width: '8px', height: '8px', borderRadius: '50%',
                    background: st.dot, border: '2px solid #fff'
                  }} />

                  {entry.image && !sm && (
                    <div style={{ width: '50px', height: '50px', borderRadius: '6px', overflow: 'hidden', flexShrink: 0 }}>
                      <img src={entry.image} alt="" style={{ width: '100%', height: '100%', objectFit: 'cover' }} onError={e => e.target.style.display = 'none'} />
                    </div>
                  )}
                  <div style={{ flex: 1, minWidth: 0 }}>
                    <div style={{ fontSize: '11px', color: '#b4b4b4' }}>{entry.time.start} ‚Äì {entry.time.end}</div>
                    <div style={{
                      fontSize: sm ? '12px' : '14px', fontWeight: '600', color: '#37352f',
                      whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis'
                    }}>
                      {entry._type === 'transportation' ? (
                        <span>{entry.icon} {entry._label}</span>
                      ) : (
                        <span>{entry._label}: {entry.name}</span>
                      )}
                    </div>
                    {entry._type === 'transportation' ? (
                      <div style={{ fontSize: '11px', color: '#9b9a97', marginTop: '2px', lineHeight: 1.5 }}>
                        <div>{entry.departure_point} ‚Üí {entry.arrival_point}</div>
                        {entry.route_number && entry.route_number !== 'VERIFIED' && (
                          <div>{entry.transport_type} {entry.route_number}</div>
                        )}
                        {entry.booking_status && (
                          <span style={{
                            display: 'inline-block',
                            marginTop: '2px',
                            padding: '2px 6px',
                            borderRadius: '3px',
                            fontSize: '10px',
                            fontWeight: '600',
                            background: entry.booking_status.includes('URGENT') ? '#fff4e6' :
                                       entry.booking_status.includes('VERIFIED') ? '#e9f5ec' : '#edf2fc',
                            color: entry.booking_status.includes('URGENT') ? '#d97706' :
                                  entry.booking_status.includes('VERIFIED') ? '#1a7a32' : '#2b63b5'
                          }}>
                            {entry.booking_status}
                          </span>
                        )}
                      </div>
                    ) : (
                      <div style={{ display: 'flex', alignItems: 'center', gap: '6px', fontSize: '11px', color: '#9b9a97', flexWrap: 'wrap', marginTop: '2px' }}>
                        {entry.recommended_duration && <span>‚è± {entry.recommended_duration}</span>}
                        {entry.cost !== undefined && (
                          <span style={{
                            padding: '1px 6px', borderRadius: '3px', fontWeight: '600',
                            background: entry.cost === 0 ? '#e9f5ec' : '#f5f5f3',
                            color: entry.cost === 0 ? '#1a7a32' : '#37352f'
                          }}>
                            {entry.cost === 0 ? 'Free' : `¬•${entry.cost.toFixed(2)}`}
                          </span>
                        )}
                        {entry.stars && <span style={{ color: '#e9b200' }}>{'‚òÖ'.repeat(entry.stars)}</span>}
                      </div>
                    )}
                    {entry._type !== 'transportation' && <LinksRow links={entry.links} compact={sm} />}
                  </div>
                </div>
              );
            })}
          </div>
        </div>
        )}
      </div>
    </div>
  );
};

// ============================================================
// APP
// ============================================================
function NotionTravelApp() {
  const [selTrip, setSelTrip] = useState(0);
  const [selDay, setSelDay] = useState(0);
  const [view, setView] = useState('kanban');
  const [sbOpen, setSbOpen] = useState(false);
  const [selectedItem, setSelectedItem] = useState(null);
  const [selectedBudgetCat, setSelectedBudgetCat] = useState(null);
  const bp = useBreakpoint();
  const sm = bp === 'sm';

  const trip = PLAN_DATA.trips[selTrip];
  const day = trip?.days?.[selDay];

  const handleItemClick = (item, type) => {
    setSelectedBudgetCat(null);
    setSelectedItem({ item, type });
  };

  const handleBudgetClick = (category, dayData) => {
    setSelectedItem(null);

    let items = [];
    let total = 0;

    if (category === 'meals') {
      ['breakfast', 'lunch', 'dinner'].forEach(mealType => {
        if (dayData.meals[mealType]) {
          items.push(dayData.meals[mealType]);
          total += dayData.meals[mealType].cost || 0;
        }
      });
    } else if (category === 'attractions') {
      items = dayData.attractions || [];
      total = dayData.budget.attractions || 0;
    } else if (category === 'entertainment') {
      items = dayData.entertainment || [];
      total = dayData.budget.entertainment || 0;
    } else if (category === 'accommodation') {
      items = dayData.accommodation ? [dayData.accommodation] : [];
      total = dayData.budget.accommodation || 0;
    }

    setSelectedBudgetCat({ category, items, total });
  };

  return (
    <div style={{
      display: 'flex',
      fontFamily: "ui-sans-serif, -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, 'Noto Sans SC', sans-serif",
      background: '#ffffff', minHeight: '100vh', color: '#37352f'
    }}>
      <Sidebar
        trips={PLAN_DATA.trips} selTrip={selTrip} selDay={selDay}
        onSelect={(ti, di) => { setSelTrip(ti); setSelDay(di); }}
        isOpen={sbOpen} onClose={() => setSbOpen(false)} bp={bp}
      />

      <div style={{ flex: 1, minWidth: 0 }}>
        <div style={{
          borderBottom: '1px solid #f0efed',
          padding: `0 ${sm ? '12px' : '20px'}`,
          display: 'flex', alignItems: 'center',
          position: 'sticky', top: 0, background: 'rgba(255,255,255,0.97)',
          backdropFilter: 'blur(8px)', zIndex: 50, gap: '2px'
        }}>
          {sm && (
            <button onClick={() => setSbOpen(true)} style={{
              background: 'none', border: 'none', cursor: 'pointer',
              fontSize: '17px', padding: '10px 6px 10px 2px', color: '#37352f'
            }}>‚ò∞</button>
          )}
          {['kanban', 'timeline'].map(m => (
            <button key={m} onClick={() => setView(m)} style={{
              padding: sm ? '10px 8px' : '11px 16px', background: 'none', border: 'none',
              borderBottom: view === m ? '2px solid #37352f' : '2px solid transparent',
              fontSize: '14px', fontWeight: view === m ? '600' : '400',
              color: view === m ? '#37352f' : '#b4b4b4',
              cursor: 'pointer', transition: 'all .12s', whiteSpace: 'nowrap'
            }}>
              {m === 'kanban' ? 'Kanban View' : 'Timeline View'}
            </button>
          ))}
        </div>

        {day ? (
          view === 'kanban'
            ? <KanbanView
                day={day}
                tripSummary={PLAN_DATA.trip_summary}
                showSummary={selDay === 0 && selTrip === 0}
                bp={bp}
                onItemClick={handleItemClick}
                onBudgetClick={handleBudgetClick}
              />
            : <TimelineView
                day={day}
                bp={bp}
                onItemClick={handleItemClick}
              />
        ) : (
          <div style={{ padding: `60px ${sm ? '16px' : '48px'}`, color: '#c4c4c0' }}>
            <div style={{ fontSize: '48px', marginBottom: '12px' }}>üó∫Ô∏è</div>
            <div style={{ fontWeight: '500', fontSize: '16px', color: '#9b9a97' }}>{trip?.name}</div>
            <div style={{ marginTop: '4px' }}>Itinerary coming soon...</div>
          </div>
        )}

        {selectedItem && (
          <ItemDetailSidebar
            item={selectedItem.item}
            type={selectedItem.type}
            onClose={() => setSelectedItem(null)}
            bp={bp}
          />
        )}

        {selectedBudgetCat && (
          <BudgetDetailSidebar
            category={selectedBudgetCat.category}
            items={selectedBudgetCat.items}
            total={selectedBudgetCat.total}
            onClose={() => setSelectedBudgetCat(null)}
            bp={bp}
          />
        )}
      </div>
    </div>
  );
}


    // Render app
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<NotionTravelApp />);
  </script>
</body>
</html>